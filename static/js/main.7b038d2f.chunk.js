(this["webpackJsonpfind-mask"]=this["webpackJsonpfind-mask"]||[]).push([[0],{100:function(e,t,a){e.exports=a.p+"static/media/clock-regular.54749a5a.svg"},101:function(e,t,a){e.exports=a.p+"static/media/adult-face.00c7654a.svg"},102:function(e,t,a){e.exports=a.p+"static/media/child-face.994df0b8.svg"},108:function(e,t,a){e.exports=a(165)},161:function(e,t,a){},162:function(e,t,a){},163:function(e,t,a){},164:function(e,t,a){},165:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(7),c=a.n(o);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l=a(30),s=a(18),i=a(9),u={SET_MAP_CENTER:"[MAP] SET_MAP_CENTER",SET_DISTANCE:"[MAP] SET_DISTANCE",SET_MASK_TYPE:"[MAP] SET_MASK_TYPE",TOGGLE_DRAWER:"[MAP] TOGGLE_DRAWER"},p={mapCenter:{lat:25.03418,lng:121.554517},distance:{meter:500},maskType:"adult",drawerOpen:!1},m={ActionType:u,ActionCreator:{setMapCenter:function(e){return{type:u.SET_MAP_CENTER,Data:e}},setDistance:function(e){return{type:u.SET_DISTANCE,Data:e}},setMaskType:function(e){return{type:u.SET_MASK_TYPE,Data:e}},toggleDrawer:function(){return{type:u.TOGGLE_DRAWER}}},Reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u.SET_MAP_CENTER:return Object(i.a)(Object(i.a)({},e),{},{mapCenter:t.Data});case u.SET_DISTANCE:return Object(i.a)(Object(i.a)({},e),{},{distance:t.Data});case u.SET_MASK_TYPE:return Object(i.a)(Object(i.a)({},e),{},{maskType:t.Data});case u.TOGGLE_DRAWER:return Object(i.a)(Object(i.a)({},e),{},{drawerOpen:!e.drawerOpen});default:return e}},Selector:{getMapCenter:function(e){return e.Map.mapCenter},getDistance:function(e){return e.Map.distance},getMaskType:function(e){return e.Map.maskType},getDrawerOpen:function(e){return e.Map.drawerOpen}},AsyncMethods:{}},d=a(45),_=a.n(d),f=a(57),h=a(15),v=a(16),g=a(88),E=a.n(g);function A(e){return O.apply(this,arguments)}function O(){return(O=Object(f.a)(_.a.mark((function e(t){var a,n,r,o,c,l,s,i,u,p,m,d,f,h,v;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.headers,n=void 0===a?{}:a,r=t.url,o=t.params,c=t.data,l=t.method,s=t.timeout,i=void 0===s?3e3:s,u=t.baseURL,p=void 0===u?"http://localhost:8009":u,m=t.resolve,d=t.reject,e.prev=1,f=r.startsWith("http"),e.next=5,E()({method:l,url:r,baseURL:f?void 0:p,headers:n,params:o,data:c,timeout:i});case 5:if(204!==(h=e.sent).status){e.next=10;break}m({}),e.next=20;break;case 10:return e.prev=10,e.next=13,h.data;case 13:v=e.sent,m(v),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(10),m({});case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(1),d(e.t1);case 25:case"end":return e.stop()}}),e,null,[[1,22],[10,17]])})))).apply(this,arguments)}var k=function(){function e(){Object(h.a)(this,e)}return Object(v.a)(e,null,[{key:"fetchGet",value:function(e){var t=e.url,a=e.params,n=e.resolve,r=e.reject,o=e.timeout;return A({url:t,resolve:n,reject:r,method:"GET",params:a,timeout:void 0===o?void 0:o})}},{key:"fetchPost",value:function(e){var t=e.url,a=e.params,n=e.jsonBody,r=e.resolve,o=e.reject,c=e.timeout;return A({url:t,resolve:r,reject:o,method:"POST",params:a,data:n,timeout:void 0===c?void 0:c})}},{key:"fetchPut",value:function(e){var t=e.url,a=e.params,n=e.jsonBody,r=e.resolve,o=e.reject,c=e.timeout;return A({url:t,resolve:r,reject:o,method:"PUT",params:a,data:n,timeout:void 0===c?void 0:c})}},{key:"fetchPatch",value:function(e){var t=e.url,a=e.params,n=e.jsonBody,r=e.resolve,o=e.reject,c=e.timeout;return A({url:t,resolve:r,reject:o,method:"PATCH",params:a,data:n,timeout:void 0===c?void 0:c})}},{key:"fetchDelete",value:function(e){var t=e.url,a=e.params,n=e.jsonBody,r=e.resolve,o=e.reject,c=e.timeout;return A({url:t,resolve:r,reject:o,method:"DELETE",params:a,data:n,timeout:void 0===c?void 0:c})}}]),e}(),b={getStores:function(){return new Promise((function(e,t){return k.fetchGet({url:"https://raw.githubusercontent.com/kiang/pharmacies/master/json/points.json",resolve:e,reject:t})}))}},y=a(89),T={SET_MASK_DATA:"[MASK] SET_MASK_DATA"},x={setMaskData:function(e){return{type:T.SET_MASK_DATA,Data:e}}},N={maskData:[]},S={getMaskData:function(){return Object(f.a)(_.a.mark((function e(){var t,a;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=P(),e.next=3,b.getStores();case 3:return a=e.sent,t(x.setMaskData(a.features)),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})))()}},D={ActionType:T,ActionCreator:x,Reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T.SET_MASK_DATA:return Object(i.a)(Object(i.a)({},e),{},{maskData:t.Data});default:return e}},Selector:{getMaskData:function(e){return e.Mask.maskData},getNearByMasks:function(e){var t=e.Mask.maskData,a=e.Map.distance.meter,n=e.Map.mapCenter;return t.filter((function(e){return Object(y.getDistance)({latitude:n.lat,longitude:n.lng},{latitude:e.geometry.coordinates[1],longitude:e.geometry.coordinates[0]})<=a}))}},AsyncMethods:S},j={SET_CUSTOMER_DATA:"[CUSTOMER] SET_CUSTOMER_DATA",SET_SINGLE_CUSTOMER:"[CUSTOMER] SET_SINGLE_CUSTOMER"},M={customerData:[],queryInfo:{},singleCustomer:{}},C={ActionType:j,ActionCreator:{setCustomerData:function(e){return{type:j.SET_CUSTOMER_DATA,Data:e}},setSingleCustomer:function(e){return{type:j.SET_SINGLE_CUSTOMER,Data:e}}},Reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j.SET_CUSTOMER_DATA:return Object(i.a)(Object(i.a)({},e),{},{customerData:t.Data});case j.SET_SINGLE_CUSTOMER:return Object(i.a)(Object(i.a)({},e),{},{singleCustomer:t.Data});default:return e}},Selector:{getCustomerData:function(e){return e.Customer.customerData},getSingleCustomer:function(e){return e.Customer.singleCustomer}},AsyncMethods:{}},w={TOGGLE_DRAWER:"[GLOBAL] TOGGLE_DRAWER",OPEN_LOADING_BLOCK:"[GLOBAL] OPEN_LOADING_BLOCK",CLOSE_LOADING_BLOCK:"[GLOBAL] CLOSE_LOADING_BLOCK"},R={drawerOpen:!1,loadingBlockOpen:!1},L={ActionType:w,ActionCreator:{toggleDrawer:function(){return{type:w.TOGGLE_DRAWER}},openLoadingBlock:function(){return{type:w.OPEN_LOADING_BLOCK}},closeLoadingBlock:function(){return{type:w.CLOSE_LOADING_BLOCK}}},Reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.TOGGLE_DRAWER:return Object(i.a)(Object(i.a)({},e),{},{drawerOpen:!e.drawerOpen});case w.OPEN_LOADING_BLOCK:return Object(i.a)(Object(i.a)({},e),{},{loadingBlockOpen:!0});case w.CLOSE_LOADING_BLOCK:return Object(i.a)(Object(i.a)({},e),{},{loadingBlockOpen:!1});default:return e}},Selector:{getDrawerOpen:function(e){return e.Screen.Global.drawerOpen},getLoadingBlockOpen:function(e){return e.Screen.Global.loadingBlockOpen}}},G=Object(s.b)({Global:L.Reducer}),B=Object(s.b)({Map:m.Reducer,Mask:D.Reducer,Place:C.Reducer,Screen:G}),I=void 0,P=function(){return I.dispatch},U=a(26),K=a(25),z=a(39),Q=a.n(z),W=a(5),H=a(200),Y=a(201),X=Object(W.a)({root:{padding:"10px"}})(H.a),J=function(e){Object(U.a)(a,e);var t=Object(K.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={value:e.props.value},e.handleChange=function(t,a){var n=t.target.value;e.setState({value:n}),e.props.onChange&&e.props.onChange(n)},e}return Object(v.a)(a,[{key:"render",value:function(){return r.a.createElement(X,{variant:"filled",fullWidth:!0,value:this.state.value,onChange:this.handleChange},(this.props.data||[]).map((function(e,t){return r.a.createElement(Y.a,{key:"item-".concat(t),value:e.value},e.label)})))}}]),a}(r.a.Component),V=a(61),F=a.n(V),q=a(93),Z=a.n(q),$=a(94),ee=a.n($),te=a(202),ae=function(e){Object(U.a)(a,e);var t=Object(K.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleClick=function(t,a){return function(n){var r=t.lat,o=t.lng;a({lat:r,lng:o,fly:!0}),e.props.toggleDrawer&&e.props.toggleDrawer()}},e.getMedicalStores=function(){return e.props.nearByMasks.map((function(e){return Object(i.a)(Object(i.a)({lat:e.geometry.coordinates[1],lng:e.geometry.coordinates[0]},e.properties),{},{name:e.properties.name,address:e.properties.address,time:"08:00~21:30",phone:e.properties.phone,leftMask:{adult:e.properties.mask_adult,children:e.properties.mask_child}})}))},e}return Object(v.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=this.props.actions,n=a.setDistance,o=a.setMaskType,c=this.getMedicalStores();return r.a.createElement("div",{className:Q.a.content},r.a.createElement("div",{className:Q.a.search_root},r.a.createElement("div",null,"\u8ddd\u96e2"),r.a.createElement(J,{value:2,data:[{value:1,label:"100m"},{value:2,label:"500m"},{value:3,label:"1km"},{value:4,label:"3km"}],onChange:function(e){1===e?n({meter:100}):2===e?n({meter:500}):3===e?n({meter:1e3}):4===e&&n({meter:3e3})}}),r.a.createElement("div",{className:"mt-12"},"\u53e3\u7f69\u985e\u5225"),r.a.createElement(J,{value:1,data:[{value:1,label:"\u6210\u4eba"},{value:2,label:"\u5152\u7ae5"},{value:3,label:"\u6210\u4eba\u8207\u5152\u7ae5"}],onChange:function(e){1===e?o("adult"):2===e?o("child"):3===e&&o("adult & child")}})),r.a.createElement("div",{className:"px-8 py-4"},"\u5171 ",c?c.length:0," \u5bb6\u53ef\u8cb7\u53e3\u7f69"),c.map((function(a,n){return r.a.createElement("div",{className:Q.a.card_root,key:"card-".concat(n),onClick:e.handleClick(a,t.actions.setMapCenter)},r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"flex-1",style:{fontWeight:900,color:"#848484"}},a.name),r.a.createElement("a",{href:"tel:+886-".concat(a.phone),onClick:function(e){e.stopPropagation()}},r.a.createElement("img",{src:Z.a,style:{paddingRight:"3px",paddingLeft:"3px"},height:"20px",alt:"\u96fb\u8a71"}))),r.a.createElement("div",{style:{paddingTop:"2px"}},r.a.createElement("div",{style:{fontSize:"10px",color:"#848484"}},a.address)),r.a.createElement("div",{className:"flex items-center",style:{paddingTop:"2px",paddingBottom:"2px"}},r.a.createElement("img",{src:F.a,style:{paddingRight:"3px",paddingLeft:"3px"},height:"10px",alt:"\u96fb\u8a71\u5716\u793a"}),r.a.createElement("div",{style:{verticalAlign:"middle",fontSize:"10px",color:"#a3a3a3"}},a.phone)),r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:Q.a.adult_mask},r.a.createElement("div",{className:"flex flex-1"},"\u6210\u4eba\u53e3\u7f69"),r.a.createElement("div",null,a.leftMask.adult,"\u500b")),r.a.createElement("div",{className:Q.a.children_mask},r.a.createElement("div",{className:"flex flex-1"},"\u5152\u7ae5\u53e3\u7f69"),r.a.createElement("div",null,a.leftMask.children,"\u500b"))))})))}}]),a}(r.a.Component),ne=function(e){Object(U.a)(a,e);var t=Object(K.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).toggleDrawer=function(){return e.props.actions.toggleDrawer()},e}return Object(v.a)(a,[{key:"render",value:function(){return r.a.createElement(te.a,{anchor:"left",open:this.props.drawerOpen,onOpen:this.toggleDrawer,onClose:this.toggleDrawer},r.a.createElement(ae,Object.assign({},this.props,{toggleDrawer:this.toggleDrawer})))}}]),a}(r.a.Component),re=Object(l.b)((function(e){return{center:m.Selector.getMapCenter(e),drawerOpen:m.Selector.getDrawerOpen(e),maskData:D.Selector.getMaskData(e),nearByMasks:D.Selector.getNearByMasks(e)}}),(function(e){var t={setMapCenter:m.ActionCreator.setMapCenter,setDistance:m.ActionCreator.setDistance,setMaskType:m.ActionCreator.setMaskType,toggleDrawer:m.ActionCreator.toggleDrawer};return{actions:Object(s.a)(t,e),dispatch:e}}))((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"hidden-xs-only"},r.a.createElement(ae,e)),r.a.createElement("div",{className:"hidden-sm-and-up"},r.a.createElement(ne,e),r.a.createElement("div",{className:Q.a.setting,onClick:function(){return setTimeout(e.actions.toggleDrawer,100)}},r.a.createElement("img",{src:ee.a,height:"20px",alt:"\u8a2d\u5b9a"}))))})),oe=a(68),ce=a.n(oe),le=function(e){Object(U.a)(a,e);var t=Object(K.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(v.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"sm:flex xs:flex-col mb-4"},r.a.createElement("div",null,"| \u53e3\u7f69\u5730\u5716 ver 1.0 by",r.a.createElement("a",{className:ce.a.link,href:"https://github.com/andrew781026/findMask",target:"_blank",rel:"noopener noreferrer"},"Andrew")),r.a.createElement("div",null,r.a.createElement("span",{className:"sm:pl-12"},"| \u8cc7\u6599\u4f86\u6e90 : \u885b\u798f\u90e8")))}}]),a}(r.a.Component),se=function(){return r.a.createElement("div",{className:"flex px-8 h-28 bg-black z-20 fixed pin-b pin-r ".concat(ce.a.root)},r.a.createElement(le,null))},ie=a(204),ue=a(34),pe=a.n(ue),me=a(95),de=a.n(me),_e=a(96),fe=a.n(_e),he=a(97),ve=a.n(he),ge=a(40),Ee=a.n(ge),Ae=function(){function e(){Object(h.a)(this,e)}return Object(v.a)(e,null,[{key:"format",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY/MM/DD";return e?Ee()(e).format(t):e}},{key:"getWeekDayStr",value:function(e){return{0:"\u65e5",1:"\u4e00",2:"\u4e8c",3:"\u4e09",4:"\u56db",5:"\u4e94",6:"\u516d"}[Ee()(e).weekday()]}},{key:"yesterday",value:function(){return Ee()().add(-1,"d").toDate()}},{key:"nextWeek",value:function(){return Ee()().add(7,"d").toDate()}},{key:"startOf",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"d";return Ee()(e).startOf(t).toDate()}},{key:"endOf",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"d";return Ee()(e).endOf(t).toDate()}}]),e}(),Oe=function(e){return"".concat(Ae.format(e,"MM/DD"),"(").concat(Ae.getWeekDayStr(e),")")},ke=function(e){return r.a.createElement("div",{className:"flex h-80 shadow-b z-20 relative ".concat(pe.a.root)},r.a.createElement("div",{className:"flex-col p-12 absolute pin-l font-900 text-white"},r.a.createElement("div",{className:"flex items-start"},r.a.createElement("img",{className:"pr-4",src:ve.a,alt:"\u65e5\u66c6\u5716\u793a"}),"2020/"),r.a.createElement("div",{className:"text-xl my-4"},Oe(new Date)),r.a.createElement("div",{className:"font-500",style:{fontSize:"12px"}},"\u5982\u4eca\u65e5\u8cfc\u8cb7\uff0c\u4e0b\u6b21\u6700\u5feb\u53ef\u8cfc\u8cb7\u65e5\u70ba",Oe(Ae.nextWeek()))),r.a.createElement(ie.a,{xsDown:!0},r.a.createElement("div",{className:pe.a.right_content},r.a.createElement("div",{className:"flex-col flex-1 text-white mt-4 mx-8"},r.a.createElement("p",{className:pe.a.right_p},"\u6c11\u773e\u6301\u672c\u4eba \u300c\u5065\u4fdd\u5361\u300d \uff0c\u6bcf\u4eba\u73fe\u8cfc 2 \u7247\uff0c7 \u5929\u5167\u4e0d\u53ef\u91cd\u8907\u8cfc\u8cb7 "),r.a.createElement("p",{className:pe.a.right_p},"\u53ef\u59d4\u8a17\u89aa\u53cb\u4ee3\u70ba\u8cfc\u8cb7\uff0c\u4e00\u4eba\u9650\u4ee3\u6301\u4e00\u5f35\u5065\u4fdd\u5361 "),r.a.createElement("p",{className:pe.a.right_p},"\u5152\u7ae5\u53e3\u7f69\u50c5\u9650 12 \u6b72\u4ee5\u4e0b\u5152\u7ae5\u5065\u4fdd\u5361\u8cfc\u8cb7")),r.a.createElement("div",{className:pe.a.link},r.a.createElement("img",{src:de.a,alt:"\u5065\u4fdd\u7f72\u516c\u544a\u9023\u7d50"}),r.a.createElement("a",{href:fe.a,target:"_blank",rel:"noopener noreferrer",className:pe.a.link_text},r.a.createElement("span",null,"\u885b\u670d\u90e8\u516c\u544a\u9023\u7d50"))))))},be=a(52),ye=a.n(be),Te=function(e){return r.a.createElement("div",{className:ye.a.root},r.a.createElement("div",{className:ye.a.many_mask},"31 ~"),r.a.createElement("div",{className:ye.a.less_mask},"1 ~ 30"),r.a.createElement("div",{className:ye.a.no_mask},"\u7121\u5eab\u5b58"))},xe=a(98),Ne=a.n(xe),Se=a(99),De=a.n(Se),je=(a(160),a(49)),Me=a.n(je),Ce=a(29),we=a.n(Ce),Re=a(100),Le=a.n(Re),Ge=a(101),Be=a.n(Ge),Ie=a(102),Pe=a.n(Ie),Ue=function(e){var t=e.medicalStore;return r.a.createElement("div",{className:we.a.card_root},r.a.createElement("div",{className:we.a.text_root},r.a.createElement("div",{className:"pb-4"},r.a.createElement("span",{className:we.a.text_name},t.name)),r.a.createElement("div",{className:"pb-4"},r.a.createElement("span",{className:we.a.text_address},t.address)),r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"flex-1 flex items-center"},r.a.createElement("img",{className:"px-4",height:"12px",src:Le.a,alt:"\u6642\u9418 :\u3000"}),r.a.createElement("span",{className:we.a.time_letter},t.time)),r.a.createElement("div",{className:"flex-1 flex items-center"},r.a.createElement("img",{className:"px-4",src:F.a,height:"12px",alt:"\u96fb\u8a71 : "}),r.a.createElement("span",{className:we.a.phone_letter},t.phone)))),r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:we.a.adult_mask},r.a.createElement("div",null,"\u6210\u4eba\u53e3\u7f69\u6578\u91cf"),r.a.createElement("div",{className:"w-full flex items-end pt-4"},r.a.createElement("div",{className:"flex flex-1 justify-center items-center"},r.a.createElement("img",{src:Be.a,height:"37px",alt:"\u6210\u4eba\u982d\u50cf"})),r.a.createElement("div",null,r.a.createElement("span",{className:"text-16 pr-4"},t.leftMask.adult)," \u500b"))),r.a.createElement("div",{className:we.a.children_mask},r.a.createElement("div",null,"\u5152\u7ae5\u53e3\u7f69\u6578\u91cf"),r.a.createElement("div",{className:"w-full flex items-end pt-4"},r.a.createElement("div",{className:"flex flex-1 justify-center items-center"},r.a.createElement("img",{src:Pe.a,height:"40px",alt:"\u5152\u7ae5\u982d\u50cf"})),r.a.createElement("div",null,r.a.createElement("span",{className:"text-16 pr-4"},t.leftMask.children)," \u500b")))))},Ke=a(103),ze=function(e){Object(U.a)(a,e);var t=Object(K.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(v.a)(a,[{key:"componentDidUpdate",value:function(e){if(e.coords===this.props.coords)return null;if(this.props.isGeolocationAvailable)if(this.props.isGeolocationEnabled){if(this.props.coords){var t=this.props.coords.latitude,a=this.props.coords.longitude;this.props.actions.setMapCenter({lat:t,lng:a,fly:!0})}}else;else;}},{key:"render",value:function(){return null}}]),a}(r.a.Component),Qe=Object(l.b)(null,(function(e){var t={setMapCenter:m.ActionCreator.setMapCenter};return{actions:Object(s.a)(t,e),dispatch:e}}))(Object(Ke.geolocated)({positionOptions:{enableHighAccuracy:!1},userDecisionTimeout:5e3})(ze)),We={};function He(e,t){var a=null;return function(){var n=this,r=arguments;clearTimeout(a),a=setTimeout((function(){return e.apply(n,r)}),t)}}var Ye=function(e){Object(U.a)(a,e);var t=Object(K.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).map=null,e.layerGroup=null,e.icons={},e.state={lat:e.props.center.lat,lng:e.props.center.lng,zoom:17},e.getIcon=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"green",a=e.icons[t];if(a)return a;var n=new Me.a.Icon({iconUrl:"https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-".concat(t,".png"),shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]});return e.icons[t]=n,n},e.getMedicalStores=function(){return e.props.nearByMasks.map((function(e){return Object(i.a)(Object(i.a)({lat:e.geometry.coordinates[1],lng:e.geometry.coordinates[0]},e.properties),{},{name:e.properties.name,address:e.properties.address,time:"08:00~21:30",phone:e.properties.phone,leftMask:{adult:e.properties.mask_adult,children:e.properties.mask_child}})}))},e.getMarker=function(t){var a,n=e.getIcon("green"),r=e.getIcon("gold"),o=e.getIcon("red"),c=e.props.maskType,l=t.leftMask.adult,s=t.leftMask.children;return Me.a.marker([t.lat,t.lng],{icon:(a=function(e){return"child"===e?s:"adult"===e?l:s+l}(c),a>30?n:a<=30&&a>0?r:o)})},e.renderMarker=function(){var t=e.getMedicalStores();e.layerGroup.clearLayers(),t.forEach((function(t){var a=e.getMarker(t).addTo(e.layerGroup),n=Ne.a.renderToString(r.a.createElement(Ue,{medicalStore:t}));a.bindPopup(n,{className:"popupCustom"}),t.lat===e.props.center.lat&&t.lng===e.props.center.lng&&a.openPopup()}))},e}return Object(v.a)(a,[{key:"componentDidMount",value:function(){var e=this;D.AsyncMethods.getMaskData().then().catch((function(e){return console.error(e)}));var t=Me.a.map("mapid").setView([this.state.lat,this.state.lng],this.state.zoom);Me.a.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{id:"mapbox/streets-v11",tileSize:512,zoomOffset:-1}).addTo(t),t.on("moveend",(function(a){var n=t.getCenter();e.setState({lat:n.lat,lng:n.lng}),e.props.actions.setMapCenter(n)})),this.map=t,this.layerGroup=Me.a.layerGroup().addTo(t)}},{key:"componentDidUpdate",value:function(e){var t=this;this.map&&(this.props.center.fly&&this.map.flyTo(this.props.center,18),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,a=We["".concat(e)];if(a)return a;var n=He((function(e){return e()}),t);return We["".concat(e)]=n,n}("renderMarker")((function(){return t.renderMarker(t.map)})))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Qe,null),r.a.createElement("div",{id:"mapid",className:De.a.content}))}}]),a}(r.a.Component),Xe=Object(l.b)((function(e){return{center:m.Selector.getMapCenter(e),maskType:m.Selector.getMaskType(e),maskData:D.Selector.getMaskData(e),nearByMasks:D.Selector.getNearByMasks(e)}}),(function(e){var t={setMapCenter:m.ActionCreator.setMapCenter};return{actions:Object(s.a)(t,e),dispatch:e}}))(Ye),Je=function(e){return r.a.createElement("div",{className:"flex-col relative h-screen w-screen"},r.a.createElement(ke,null),r.a.createElement(se,null),r.a.createElement(Te,null),r.a.createElement(re,null),r.a.createElement(Xe,null))},Ve=(a(161),a(162),a(163),a(164),r.a.createElement(l.a,{store:I=Object(s.c)(B,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())},r.a.createElement(Je,null)));c.a.render(Ve,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},29:function(e,t,a){e.exports={adult_mask:"Tooltip_adult_mask__2xWlT",children_mask:"Tooltip_children_mask__3W61D",text_name:"Tooltip_text_name__1sRnT",text_address:"Tooltip_text_address__6QtQh",time_letter:"Tooltip_time_letter__3WnV2",phone_letter:"Tooltip_phone_letter__OMrgf",card_root:"Tooltip_card_root__2KC-4",text_root:"Tooltip_text_root__10nka"}},34:function(e,t,a){e.exports={root:"Toolbar_root__RBAOB",center_content:"Toolbar_center_content__2DNCu",center_span:"Toolbar_center_span__ACh1S",right_content:"Toolbar_right_content__2-Ayx",tooltip_span:"Toolbar_tooltip_span__3cSGP",tooltip_button:"Toolbar_tooltip_button__1xvBj",tooltip:"Toolbar_tooltip__1ToF6",input:"Toolbar_input__1T2Fv",link:"Toolbar_link__sFkFj",link_text:"Toolbar_link_text__3pVTn",right_p:"Toolbar_right_p__pK4SD"}},39:function(e,t,a){e.exports={content:"Navbar_content__zed77",setting:"Navbar_setting__1KffL",adult_mask:"Navbar_adult_mask__2CaqS",children_mask:"Navbar_children_mask__Zu0ks",search_root:"Navbar_search_root__2THiG",card_root:"Navbar_card_root__2fg19"}},52:function(e,t,a){e.exports={root:"Hint_root__2JxGt",all_type:"Hint_all_type__36N_U",many_mask:"Hint_many_mask__97h0_",less_mask:"Hint_less_mask__13wLS",no_mask:"Hint_no_mask__31RI6"}},61:function(e,t,a){e.exports=a.p+"static/media/phone-solid.584f89de.svg"},68:function(e,t,a){e.exports={root:"Footer_root__1raA_",link:"Footer_link__19_ri"}},93:function(e,t,a){e.exports=a.p+"static/media/phone.5f78d8fd.svg"},94:function(e,t,a){e.exports=a.p+"static/media/setting.6f1fd6d2.svg"},95:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAUCAIAAAAcIrrpAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAAGVSURBVDhPrZTZTsJAFIa9oqXL8GKtoGFRIKKiRcQHYHGPCRoUE+J2gYkmBmIRXOLyev7TskyHtoIh+S6G08OXmX9OOxcqajNkSl1FlxtJ6T4jXyXJ7jz/dCodOQgL3VzgZ8dGeM+rJ4tcz8S6sm67hI4hN5bFVpauX7dCJUfbxLqKju2I7Q0s6M+SJrwYMKrVKNs2TXbOjYhP69AptThb/EtX0pR6QmpmpNs02Q8P60o1GvguALYI/HTIXjTpiWyEjzzZo7dJXZ/bqEh3abYfeOrIYQRJU0s3h+yDj2tCL4fhUE4HrmaG+wtw1w1dYjuL7NXjBTs4lboKlmuF7R/ioiNHEeHNcrWypKyrZzG6No3gwyrNy9sFxnSD+YILa1QQ9mh6vwrydcrR74TXKRcJ6uoYtqtPWVfO4/LlEi5nVHSD10k3KXoc5soQHM2O6fFhbHd1a3emQazpV2oxHBDvA9vjg1t2PevdxCtlbtK83ObLizGdNSXic1+EEcO3iGvwwUVnAym+PxgUru6Pp+5/zFRX1H4BiyrG5MSrwYQAAAAASUVORK5CYII="},96:function(e,t,a){e.exports=a.p+"static/media/bulletin.02e4973d.jpg"},97:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAYCAIAAACA18GRAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAAExSURBVEhLY2DbnkMtNOTMSrm02OBwK5ogEHHtyMu4vEz9QAOaOBDhNOvLnx8FV1ejCQKR4K6i////R52fhyYOROhmWR7tyr6yQnR3KcQsn9NTc6+sREbie8ogZoWemx15fi7Pzny4XhSzos/P+/fvH1Cp9sGmt7++5F5duf75BSAXGSjsq/7x91fE+TlH390Fcne9vgbXjmLWxhdQne13dhRdWw1Elz49gYjAQdWNDRCpe1/fQESALoVoRzFr56urEGmSgPy+Koj2IWTW8qenO+7sJAZ9+P2NgFluJychC+JBD769HTVrmJu18cVFoNya5+f67+0lBn38/R2oHnt+jL2w4N9/UDlBPNjz+jpcO4pZQGRzrCfv6sqCq6uIQTEX5vPuLIDrRTeLEkQ9s7bnAADezOZBisoYGwAAAABJRU5ErkJggg=="},99:function(e,t,a){e.exports={content:"Map_content__3NY0G",adult_mask:"Map_adult_mask__3DSUL",children_mask:"Map_children_mask__1tT2R",card_root:"Map_card_root__27zLj",text_root:"Map_text_root__2qRJy",marker:"Map_marker__Kq2pV"}}},[[108,1,2]]]);
//# sourceMappingURL=main.7b038d2f.chunk.js.map