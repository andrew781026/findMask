{"version":3,"sources":["assets/clock-regular.svg","assets/adult-face.svg","assets/child-face.svg","serviceWorker.js","redux/map/actionReducer.js","fetch/Common.js","fetch/MedicalStore.js","redux/mask/actionReducer.js","redux/place/actionReducer.js","redux/screen/global/actionReducer.js","redux/screen/index.js","redux/store.js","redux/@createStore.js","layout/partial/navbar/DropDown.js","layout/partial/navbar/Navbar.js","layout/partial/footer/Footer.js","utils/dateUtil.js","layout/partial/toolbar/Toolbar.js","layout/partial/hint/Hint.js","layout/partial/map/components/Tooltip.js","layout/partial/map/GeoLocation.js","utils/throttleUtil.js","layout/partial/map/Map.js","layout/App.js","index.js","layout/partial/map/components/Tooltip.module.css","layout/partial/toolbar/Toolbar.module.css","layout/partial/navbar/Navbar.module.css","layout/partial/hint/Hint.module.css","assets/phone-solid.svg","layout/partial/footer/Footer.module.css","assets/phone.svg","assets/setting.svg","assets/link.png","assets/bulletin.jpg","assets/calender.png","layout/partial/map/Map.module.css"],"names":["module","exports","Boolean","window","location","hostname","match","ActionType","SET_MAP_CENTER","SET_DISTANCE","SET_MASK_TYPE","TOGGLE_DRAWER","initialState","mapCenter","lat","lng","distance","meter","maskType","drawerOpen","ReduxMap","ActionCreator","setMapCenter","center","type","Data","setDistance","setMaskType","toggleDrawer","Reducer","state","action","Selector","getMapCenter","Map","getDistance","getMaskType","getDrawerOpen","AsyncMethods","_fetch","a","headers","url","params","data","method","timeout","baseURL","resolve","reject","isUrlAll","startsWith","Axios","undefined","response","status","responseJson","DomainCommon","jsonBody","MedicalStoreService","getStores","Promise","fetchGet","SET_MASK_DATA","setMaskData","maskData","getMaskData","dispatch","getReduxDispatch","MaskService","features","ReduxCustomer","Mask","getNearByMasks","filter","mask","latitude","longitude","geometry","coordinates","SET_CUSTOMER_DATA","SET_SINGLE_CUSTOMER","customerData","queryInfo","singleCustomer","setCustomerData","setSingleCustomer","customer","getCustomerData","Customer","getSingleCustomer","OPEN_LOADING_BLOCK","CLOSE_LOADING_BLOCK","loadingBlockOpen","ReduxGlobal","openLoadingBlock","closeLoadingBlock","Screen","Global","getLoadingBlockOpen","combineReducers","ReduxMask","Place","ReduxPlace","ReduxScreen","store","StyledSelect","withStyles","root","padding","Select","DropDown","value","props","handleChange","event","child","newValue","target","setState","onChange","variant","fullWidth","this","map","item","index","MenuItem","key","label","React","Component","MdNavbar","handleClick","fly","getMedicalStores","nearByMasks","properties","name","address","time","phone","leftMask","adult","mask_adult","children","mask_child","actions","newMedicalStores","className","Styles","content","search_root","length","card_root","onClick","style","fontWeight","color","href","e","stopPropagation","src","bigPhoneSvg","paddingRight","paddingLeft","height","alt","paddingTop","fontSize","paddingBottom","phoneSvg","verticalAlign","adult_mask","children_mask","LeftDrawer","SwipeableDrawer","anchor","open","onOpen","onClose","connect","bindActionCreators","setting","setTimeout","settingSvg","BigContent","link","rel","Footer","DateUtil","date","format","moment","0","1","2","3","4","5","6","weekday","add","toDate","unit","startOf","endOf","getDateStr","dateUtil","getWeekDayStr","Toolbar","calenderPng","Date","nextWeek","Hidden","xsDown","right_content","right_p","linkPng","bulletinJpg","link_text","Hint","many_mask","less_mask","no_mask","Tooltip","medicalStore","text_root","text_name","text_address","clockSvg","time_letter","phone_letter","adultFaceSvg","childFaceSvg","GeoLocated","prevProps","coords","isGeolocationAvailable","isGeolocationEnabled","geolocated","positionOptions","enableHighAccuracy","userDecisionTimeout","debounceMap","debounce","func","delay","timer","context","args","arguments","clearTimeout","apply","SimpleExample","layerGroup","icons","zoom","getIcon","icon","newIcon","L","Icon","iconUrl","shadowUrl","iconSize","iconAnchor","popupAnchor","shadowSize","getMarker","maskAmount","greenIcon","goldIcon","redIcon","marker","getMaskAmount","renderMarker","medicalStores","clearLayers","forEach","addTo","ReactDOMServer","renderToString","bindPopup","openPopup","then","catch","console","error","setView","tileLayer","id","tileSize","zoomOffset","on","latlng","getCenter","flyTo","debounceId","wait","tempFunc","newTempFunc","getDebounceFunc","App","element","createStore","reducers","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.f2fbab39.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/clock-regular.54749a5a.svg\";","module.exports = __webpack_public_path__ + \"static/media/adult-face.00c7654a.svg\";","module.exports = __webpack_public_path__ + \"static/media/child-face.994df0b8.svg\";","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","// import {getReduxDispatch, getReduxState} from \"../@createStore\";\n\nconst ActionType = {\n    SET_MAP_CENTER: '[MAP] SET_MAP_CENTER',\n    SET_DISTANCE: '[MAP] SET_DISTANCE',\n    SET_MASK_TYPE: '[MAP] SET_MASK_TYPE',\n    TOGGLE_DRAWER: '[MAP] TOGGLE_DRAWER',\n};\n\nconst ActionCreator = {\n    setMapCenter(center) {\n        return {\n            type: ActionType.SET_MAP_CENTER,\n            Data: center\n        }\n    },\n    setDistance(distance) {\n        return {\n            type: ActionType.SET_DISTANCE,\n            Data: distance\n        }\n    },\n    setMaskType(maskType) {\n        return {\n            type: ActionType.SET_MASK_TYPE,\n            Data: maskType\n        }\n    },\n    toggleDrawer() {\n        return {\n            type: ActionType.TOGGLE_DRAWER\n        }\n    },\n};\n\nconst Selector = {\n    getMapCenter: (state) => state.Map.mapCenter,\n    getDistance: (state) => state.Map.distance,\n    getMaskType: (state) => state.Map.maskType,\n    getDrawerOpen: (state) => state.Map.drawerOpen,\n};\n\nconst initialState = {\n    mapCenter: {\n        lat: 25.034180,\n        lng: 121.554517,\n    },\n    distance: {\n        meter: 500\n    },\n    maskType: 'adult', // maskType : adult . child\n    drawerOpen: false,\n};\n\nconst Reducer = function (state = initialState, action) {\n    switch (action.type) {\n        case ActionType.SET_MAP_CENTER: {\n            return {\n                ...state,\n                mapCenter: action.Data,\n            };\n        }\n        case ActionType.SET_DISTANCE: {\n            return {\n                ...state,\n                distance: action.Data,\n            };\n        }\n        case ActionType.SET_MASK_TYPE: {\n            return {\n                ...state,\n                maskType: action.Data,\n            };\n        }\n        case ActionType.TOGGLE_DRAWER: {\n            return {\n                ...state,\n                drawerOpen: !state.drawerOpen,\n            };\n        }\n        default: {\n            return state;\n        }\n    }\n};\n\n// const Transformer = {};\n\nconst AsyncMethods = {};\n\nconst ReduxMap = {ActionType, ActionCreator, Reducer, Selector, AsyncMethods};\n\nexport default ReduxMap;\n","import Axios from \"axios\";\n\nclass DomainCommon {\n\n    static fetchGet({url, params, resolve, reject, timeout = undefined}) {\n\n        return _fetch({url, resolve, reject, method: 'GET', params, timeout});\n    }\n\n    static fetchPost({url, params, jsonBody, resolve, reject, timeout = undefined}) {\n\n        return _fetch({url, resolve, reject, method: 'POST', params, data: jsonBody, timeout});\n    }\n\n    static fetchPut({url, params, jsonBody, resolve, reject, timeout = undefined}) {\n\n        return _fetch({url, resolve, reject, method: 'PUT', params, data: jsonBody, timeout});\n    }\n\n    static fetchPatch({url, params, jsonBody, resolve, reject, timeout = undefined}) {\n\n        return _fetch({url, resolve, reject, method: 'PATCH', params, data: jsonBody, timeout});\n    }\n\n    static fetchDelete({url, params, jsonBody, resolve, reject, timeout = undefined}) {\n\n        return _fetch({url, resolve, reject, method: 'DELETE', params, data: jsonBody, timeout});\n    }\n\n}\n\n// timeout 預設為 3 秒\nasync function _fetch({headers = {}, url, params, data, method, timeout = 3 * 1000, baseURL = 'http://localhost:8009', resolve, reject}) {\n    try {\n\n        const isUrlAll = url.startsWith(\"http\");\n\n        let response = await Axios({\n            method,\n            url,\n            baseURL: isUrlAll ? undefined : baseURL,\n            headers,\n            params,  // params is the data at query string\n            data,   // data is the data at request body\n            timeout\n        });\n\n        if (response.status === 204) // 204 No Content , 參考網址 : https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Status/204\n            resolve({});\n        else {\n            try {\n                let responseJson = await response.data; // the response body is response.data\n                resolve(responseJson);\n\n            } catch (e) {\n                resolve({});\n            }\n        }\n\n    } catch (e) {\n\n        // Axios get error when response.status out of the range of 2xx\n        reject(e);\n    }\n}\n\nexport default DomainCommon;\n","import DomainCommon from './Common';\n\n\nconst MedicalStoreService = {\n\n    getStores: function () {\n        return new Promise((resolve, reject) => {\n            return DomainCommon.fetchGet({\n                url: 'https://raw.githubusercontent.com/kiang/pharmacies/master/json/points.json',\n                resolve, reject\n            });\n        });\n    },\n\n};\n\nexport default MedicalStoreService;\n","import {getReduxDispatch} from \"../@createStore\";\n\nimport MaskService from 'fetch/MedicalStore';\n\n// geolib\nimport {getDistance} from 'geolib';\n\nconst ActionType = {\n    SET_MASK_DATA: '[MASK] SET_MASK_DATA',\n};\n\nconst ActionCreator = {\n    setMaskData(maskData) {\n        return {\n            type: ActionType.SET_MASK_DATA,\n            Data: maskData\n        }\n    },\n};\n\nconst Selector = {\n    getMaskData: (state) => state.Mask.maskData,\n    getNearByMasks: (state) => {\n\n        const maskData = state.Mask.maskData;\n        const meter = state.Map.distance.meter;\n        const center = state.Map.mapCenter;\n\n        return maskData.filter(mask => {\n\n            const distance = getDistance( // getDistance will return meters\n                {latitude: center.lat, longitude: center.lng},\n                {latitude: mask.geometry.coordinates[1], longitude: mask.geometry.coordinates[0]}\n            );\n\n            // console.table({lat: center.lat, lng: center.lng, name: mask.properties.name, distance});\n\n            return distance <= meter;\n        });\n    },\n};\n\nconst initialState = {\n    maskData: [],\n};\n\nconst Reducer = function (state = initialState, action) {\n    switch (action.type) {\n        case ActionType.SET_MASK_DATA: {\n            return {\n                ...state,\n                maskData: action.Data,\n            };\n        }\n        default: {\n            return state;\n        }\n    }\n};\n\n// const Transformer = {};\n\nconst AsyncMethods = {\n\n    async getMaskData() {\n\n        const dispatch = getReduxDispatch();\n\n        const maskData = await MaskService.getStores();\n        dispatch(ActionCreator.setMaskData(maskData.features));\n\n        return maskData;\n    },\n\n};\n\nconst ReduxCustomer = {ActionType, ActionCreator, Reducer, Selector, AsyncMethods};\n\nexport default ReduxCustomer;\n","// import {getReduxDispatch, getReduxState} from \"../@createStore\";\n\nconst ActionType = {\n    SET_CUSTOMER_DATA: '[CUSTOMER] SET_CUSTOMER_DATA',\n    SET_SINGLE_CUSTOMER: '[CUSTOMER] SET_SINGLE_CUSTOMER',\n};\n\nconst ActionCreator = {\n    setCustomerData(customerData) {\n        return {\n            type: ActionType.SET_CUSTOMER_DATA,\n            Data: customerData\n        }\n    },\n    setSingleCustomer(customer) {\n        return {\n            type: ActionType.SET_SINGLE_CUSTOMER,\n            Data: customer\n        }\n    },\n};\n\nconst Selector = {\n    getCustomerData: (state) => state.Customer.customerData,\n    getSingleCustomer: (state) => state.Customer.singleCustomer,\n};\n\nconst initialState = {\n    customerData: [],\n    queryInfo: {},\n    singleCustomer: {}\n};\n\nconst Reducer = function (state = initialState, action) {\n    switch (action.type) {\n        case ActionType.SET_CUSTOMER_DATA: {\n            return {\n                ...state,\n                customerData: action.Data,\n            };\n        }\n        case ActionType.SET_SINGLE_CUSTOMER: {\n            return {\n                ...state,\n                singleCustomer: action.Data,\n            };\n        }\n        default: {\n            return state;\n        }\n    }\n};\n\nconst AsyncMethods = {\n\n\n\n};\n\nconst ReduxCustomer = {ActionType, ActionCreator, Reducer, Selector, AsyncMethods};\n\nexport default ReduxCustomer;\n","const ActionType = {\n    TOGGLE_DRAWER: '[GLOBAL] TOGGLE_DRAWER',\n    OPEN_LOADING_BLOCK: '[GLOBAL] OPEN_LOADING_BLOCK',\n    CLOSE_LOADING_BLOCK: '[GLOBAL] CLOSE_LOADING_BLOCK',\n};\n\nconst ActionCreator = {\n    toggleDrawer() {\n        return {\n            type: ActionType.TOGGLE_DRAWER\n        }\n    },\n    openLoadingBlock() {\n        return {\n            type: ActionType.OPEN_LOADING_BLOCK\n        }\n    },\n    closeLoadingBlock() {\n        return {\n            type: ActionType.CLOSE_LOADING_BLOCK\n        }\n    },\n};\n\nconst Selector = {\n    getDrawerOpen: (state) => state.Screen.Global.drawerOpen,\n    getLoadingBlockOpen: (state) => state.Screen.Global.loadingBlockOpen,\n};\n\nconst initialState = {\n    drawerOpen: false,\n    loadingBlockOpen: false,\n};\n\nconst Reducer = function (state = initialState, action) {\n    switch (action.type) {\n        case ActionType.TOGGLE_DRAWER: {\n            return {\n                ...state,\n                drawerOpen: !state.drawerOpen,\n            };\n        }\n        case ActionType.OPEN_LOADING_BLOCK : {\n            return {\n                ...state,\n                loadingBlockOpen: true,\n            };\n        }\n        case ActionType.CLOSE_LOADING_BLOCK : {\n            return {\n                ...state,\n                loadingBlockOpen: false,\n            };\n        }\n        default: {\n            return state;\n        }\n    }\n};\n\nconst ReduxGlobal = {ActionType, ActionCreator, Reducer, Selector};\n\nexport default ReduxGlobal;\n","import {combineReducers} from 'redux';\nimport ReduxGlobal from './global/actionReducer';\n\nexport default combineReducers({\n    Global: ReduxGlobal.Reducer,\n});\n","import {combineReducers} from 'redux';\nimport ReduxMap from './map/actionReducer';\nimport ReduxMask from './mask/actionReducer';\nimport ReduxPlace from './place/actionReducer';\nimport ReduxScreen from './screen/index';\n\nexport default combineReducers({\n    Map: ReduxMap.Reducer,\n    Mask: ReduxMask.Reducer,\n    Place: ReduxPlace.Reducer,\n    Screen: ReduxScreen,\n});\n","import {createStore} from 'redux';\nimport reducers from './store';\n\nlet store = undefined;\n\n// 外部取得 store and dispatch , https://daveceddia.com/access-redux-store-outside-react/\n\n// grab current state\n// const state = store.getState();\nexport const getReduxState = () => store.getState();\n\n// grab current dispatch\n// const dispatch = store.dispatch;\nexport const getReduxDispatch = () => store.dispatch;\n\nexport default () => {\n\n    //如果沒有用 middleware, 改用這個模式\n    store = createStore(\n        reducers, /* preLoadedState, */\n        window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n    );\n\n    return store;\n};\n","import React from \"react\";\nimport {MenuItem, Select, withStyles} from \"@material-ui/core\";\n\nconst StyledSelect = withStyles({\n    root: {\n        padding: '10px'\n    }\n})(Select);\n\nclass DropDown extends React.Component {\n\n    state = {\n        value: this.props.value\n    };\n\n    handleChange = (event, child) => {\n        const newValue = event.target.value;\n        this.setState({value: newValue});\n        this.props.onChange && this.props.onChange(newValue);\n    };\n\n    render() {\n\n        return (\n            <StyledSelect variant=\"filled\" fullWidth value={this.state.value} onChange={this.handleChange}>\n                {(this.props.data || []).map((item, index) => (\n                    <MenuItem key={`item-${index}`} value={item.value}>{item.label}</MenuItem>\n                ))}\n            </StyledSelect>\n        )\n    }\n}\n\nexport default DropDown;\n","import React from \"react\";\n\n// css\nimport Styles from './Navbar.module.css';\nimport DropDown from './DropDown';\n\n// redux\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\nimport ReduxMap from \"redux/map/actionReducer\";\nimport ReduxMask from \"redux/mask/actionReducer\";\n\n// assets\nimport phoneSvg from 'assets/phone-solid.svg';\nimport bigPhoneSvg from 'assets/phone.svg';\nimport settingSvg from 'assets/setting.svg';\n\n// material-ui\nimport {SwipeableDrawer} from \"@material-ui/core\";\n\nclass MdNavbar extends React.Component {\n\n    handleClick = (store, setMapCenter) => event => {\n\n        const lat = store.lat;\n        const lng = store.lng;\n        setMapCenter({lat, lng, fly: true});\n        this.props.toggleDrawer && this.props.toggleDrawer();\n    };\n\n    getMedicalStores = () => {\n\n        const medicalStores = this.props.nearByMasks.map(mask => ({\n            lat: mask.geometry.coordinates[1],\n            lng: mask.geometry.coordinates[0],\n            ...mask.properties,\n            name: mask.properties.name,\n            address: mask.properties.address, // 401 - 郵遞區號 , 需要查詢郵局系統\n            time: '08:00~21:30', // 只有 available : 星期一上午看診、星期二上午看診、星期三上午看診、星期四上午看診\n            phone: mask.properties.phone,\n            leftMask: {\n                adult: mask.properties.mask_adult,\n                children: mask.properties.mask_child,\n            },\n        }));\n\n        return medicalStores;\n    };\n\n    render() {\n\n        const props = this.props;\n        const {setDistance, setMaskType} = this.props.actions;\n\n        const newMedicalStores = this.getMedicalStores();\n\n        return (\n            <div className={Styles.content}>\n\n                <div className={Styles.search_root}>\n                    <div>距離</div>\n                    <DropDown\n                        value={2}\n                        data={[\n                            {value: 1, label: '100m'},\n                            {value: 2, label: '500m'},\n                            {value: 3, label: '1km'},\n                            {value: 4, label: '3km'},\n                        ]}\n                        onChange={(newValue) => {\n\n                            if (newValue === 1) setDistance({meter: 100});\n                            else if (newValue === 2) setDistance({meter: 500});\n                            else if (newValue === 3) setDistance({meter: 1000});\n                            else if (newValue === 4) setDistance({meter: 3 * 1000});\n                        }}\n                    />\n                    <div className='mt-12'>口罩類別</div>\n                    <DropDown\n                        value={1}\n                        data={[\n                            {value: 1, label: '成人'},\n                            {value: 2, label: '兒童'},\n                            {value: 3, label: '成人與兒童'},\n                        ]}\n                        onChange={(newValue) => {\n\n                            // maskType : adult . child\n                            if (newValue === 1) setMaskType('adult');\n                            else if (newValue === 2) setMaskType('child');\n                            else if (newValue === 3) setMaskType('adult & child');\n                        }}\n                    />\n                </div>\n\n                <div className='px-8 py-4'>\n                    共 {newMedicalStores ? newMedicalStores.length : 0} 家可買口罩\n                </div>\n\n                {\n                    newMedicalStores.map((store, index) => (\n\n                        <div className={Styles.card_root} key={`card-${index}`}\n                             onClick={this.handleClick(store, props.actions.setMapCenter)}>\n                            <div className='flex'>\n                                <div className='flex-1' style={{fontWeight: 900, color: '#848484'}}>{store.name}</div>\n                                <a href={`tel:+886-${store.phone}`} onClick={(e) => {\n                                    e.stopPropagation();  //  <------ Here is the magic\n                                }}>\n                                    <img src={bigPhoneSvg}\n                                         style={{paddingRight: '3px', paddingLeft: '3px'}}\n                                         height='20px'\n                                         alt=\"電話\"/>\n                                </a>\n                            </div>\n                            <div style={{paddingTop: '2px'}}>\n                                <div style={{fontSize: '10px', color: '#848484'}}>{store.address}</div>\n                            </div>\n                            <div className='flex items-center' style={{paddingTop: '2px', paddingBottom: '2px',}}>\n                                <img src={phoneSvg}\n                                     style={{paddingRight: '3px', paddingLeft: '3px'}}\n                                     height='10px'\n                                     alt=\"電話圖示\"/>\n                                <div style={{verticalAlign: 'middle', fontSize: '10px', color: '#a3a3a3'}}>\n                                    {store.phone}\n                                </div>\n                            </div>\n                            <div className='flex'>\n                                <div className={Styles.adult_mask}>\n                                    <div className='flex flex-1'>成人口罩</div>\n                                    <div>{store.leftMask.adult}個</div>\n                                </div>\n                                <div className={Styles.children_mask}>\n                                    <div className='flex flex-1'>兒童口罩</div>\n                                    <div>{store.leftMask.children}個</div>\n                                </div>\n                            </div>\n                        </div>\n                    ))\n                }\n\n            </div>\n        )\n    }\n}\n\nclass LeftDrawer extends React.Component {\n\n    toggleDrawer = () => this.props.actions.toggleDrawer();\n\n    render() {\n\n        return (\n            <SwipeableDrawer\n                anchor=\"left\"\n                open={this.props.drawerOpen}\n                onOpen={this.toggleDrawer}\n                onClose={this.toggleDrawer}\n            >\n                <MdNavbar {...this.props} toggleDrawer={this.toggleDrawer}/>\n            </SwipeableDrawer>\n        )\n    }\n}\n\nconst Navbar = (props) => (\n    <>\n        <div className=\"hidden-xs-only\">\n            <MdNavbar {...props}/>\n        </div>\n        <div className=\"hidden-sm-and-up\">\n            <LeftDrawer {...props}/>\n            <div className={Styles.setting} onClick={() => setTimeout(props.actions.toggleDrawer, 100)}>\n                <img src={settingSvg} height='20px' alt=\"設定\"/>\n            </div>\n        </div>\n    </>\n);\n\nconst mapStateToProps = state => ({\n    center: ReduxMap.Selector.getMapCenter(state),\n    drawerOpen: ReduxMap.Selector.getDrawerOpen(state),\n    maskData: ReduxMask.Selector.getMaskData(state),\n    nearByMasks: ReduxMask.Selector.getNearByMasks(state),\n});\n\nconst mapDispatchToProps = (dispatch) => {\n    const actions = {\n        setMapCenter: ReduxMap.ActionCreator.setMapCenter,\n        setDistance: ReduxMap.ActionCreator.setDistance,\n        setMaskType: ReduxMap.ActionCreator.setMaskType,\n        toggleDrawer: ReduxMap.ActionCreator.toggleDrawer,\n    };\n\n    return {\n        actions: bindActionCreators(actions, dispatch),\n        dispatch,\n    }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Navbar);\n","import React from \"react\";\nimport Styles from './Footer.module.css';\n\nclass BigContent extends React.Component {\n\n    render() {\n\n        return (\n            <div className='sm:flex xs:flex-col mb-4'>\n\n                <div>\n                    | 口罩地圖 ver 1.0 by\n                    <a className={Styles.link} href='https://github.com/andrew781026/findMask' target='_blank' rel=\"noopener noreferrer\">\n                        Andrew\n                    </a>\n                </div>\n                <div>\n                    <span className='sm:pl-12'>| 資料來源 : 衛福部</span>\n                </div>\n\n            </div>\n        )\n    }\n}\n\nconst Footer = () => (\n    <div className={`flex px-8 h-28 bg-black z-20 fixed pin-b pin-r ${Styles.root}`}>\n        <BigContent/>\n    </div>\n);\n\nexport default Footer;\n","import moment from 'moment';\n\nclass DateUtil {\n\n    static format(date, format = 'YYYY/MM/DD') {\n\n        if (date) return moment(date).format(format);\n        else return date;\n    }\n\n    static getWeekDayStr(date) {\n\n        const weekdayMap = {\n            0: '日',\n            1: '一',\n            2: '二',\n            3: '三',\n            4: '四',\n            5: '五',\n            6: '六',\n        };\n\n        return weekdayMap[moment(date).weekday()];\n    }\n\n    static yesterday() {\n\n        return moment().add(-1, 'd').toDate();\n    }\n\n    static nextWeek() {\n\n        return moment().add(7, 'd').toDate();\n    }\n\n    static startOf(date, unit = 'd') {\n\n        return moment(date).startOf(unit).toDate();\n    }\n\n    static endOf(date, unit = 'd') {\n\n        return moment(date).endOf(unit).toDate();\n    }\n\n\n}\n\nexport default DateUtil;\n","import React from \"react\";\n\n// material-ui\nimport {Hidden} from '@material-ui/core';\n\n// css\nimport Styles from './Toolbar.module.css';\n\n// assets\nimport linkPng from 'assets/link.png';\nimport bulletinJpg from 'assets/bulletin.jpg';\nimport calenderPng from 'assets/calender.png';\n\n// moment\n// import moment from 'moment';\n\n// dateUtil\nimport dateUtil from '../../../utils/dateUtil';\n\n/*\nconst getText = (number) => {\n\n    const weekDay = moment().weekday();\n\n    if (!number) return '請設定您的身分證尾碼';\n    else if (weekDay === 0) return `您今日可以購買口罩歐！(尾數${number})`;\n    else {\n\n        if (number % 2 === 1) {\n\n            // 1 . 3 . 5 => 奇\n            if (weekDay % 2 === 1) return `您今日可以購買口罩歐！(尾數${number})`;\n            else return `您明日才能購買口罩歐！(尾數${number})`;\n\n        } else {\n\n            // 2 . 4 . 6 => 偶\n            if (weekDay % 2 === 0) return `您今日可以購買口罩歐！(尾數${number})`;\n            else return `您明日才能購買口罩歐！(尾數${number})`;\n\n        }\n    }\n};\n*/\n\nconst getDateStr = date => `${dateUtil.format(date, 'MM/DD')}(${dateUtil.getWeekDayStr(date)})`;\n\n// type : edit . buy . wait\nconst Toolbar = (props) => (\n    <div className={`flex h-80 shadow-b z-20 relative ${Styles.root}`}>\n        <div className='flex-col p-12 absolute pin-l font-900 text-white'>\n            <div className='flex items-start'>\n                <img className='pr-4' src={calenderPng} alt='日曆圖示'/>\n                2020/\n            </div>\n            <div className='text-xl my-4'>{getDateStr(new Date())}</div>\n            <div className='font-500' style={{fontSize: '12px'}}>如今日購買，下次最快可購買日為{getDateStr(dateUtil.nextWeek())}</div>\n        </div>\n        <Hidden xsDown>\n            <div className={Styles.right_content}>\n                <div className='flex-col flex-1 text-white mt-4 mx-8'>\n                    <p className={Styles.right_p}>民眾持本人 「健保卡」 ，每人現購 2 片，7 天內不可重複購買 </p>\n                    <p className={Styles.right_p}>可委託親友代為購買，一人限代持一張健保卡 </p>\n                    <p className={Styles.right_p}>兒童口罩僅限 12 歲以下兒童健保卡購買</p>\n                </div>\n                <div className={Styles.link}>\n                    <img src={linkPng} alt='健保署公告連結'/>\n                    <a href={bulletinJpg} target='_blank' rel=\"noopener noreferrer\" className={Styles.link_text}>\n                        <span>衛服部公告連結</span>\n                    </a>\n                </div>\n            </div>\n        </Hidden>\n    </div>\n);\n\nexport default Toolbar;\n","import React from \"react\";\nimport Styles from './Hint.module.css';\n\nconst Hint = (props) => (\n    <div className={Styles.root}>\n        {/*<div className={Styles.all_type}>顯示全部</div>*/}\n        <div className={Styles.many_mask}>31 ~</div>\n        <div className={Styles.less_mask}>1 ~ 30</div>\n        <div className={Styles.no_mask}>無庫存</div>\n    </div>\n);\n\nexport default Hint;\n","import React from \"react\";\n\n// styles\nimport Styles from \"./Tooltip.module.css\";\n\n// assets\nimport clockSvg from \"assets/clock-regular.svg\";\nimport phoneSvg from \"assets/phone-solid.svg\";\nimport adultFaceSvg from \"assets/adult-face.svg\";\nimport childFaceSvg from \"assets/child-face.svg\";\n\n\nconst Tooltip = ({medicalStore}) => (\n    <div className={Styles.card_root}>\n\n        <div className={Styles.text_root}>\n\n            <div className='pb-4'>\n                <span className={Styles.text_name}>{medicalStore.name}</span>\n            </div>\n            <div className='pb-4'>\n                <span className={Styles.text_address}>\n                    {medicalStore.address}\n                </span>\n            </div>\n            <div className='flex'>\n                <div className='flex-1 flex items-center'>\n                    <img className='px-4' height='12px' src={clockSvg} alt=\"時鐘 :　\"/>\n                    <span className={Styles.time_letter}>{medicalStore.time}</span>\n                </div>\n                <div className='flex-1 flex items-center'>\n                    <img className='px-4' src={phoneSvg} height='12px' alt=\"電話 : \"/>\n                    <span className={Styles.phone_letter}>{medicalStore.phone}</span>\n                </div>\n            </div>\n        </div>\n\n        <div className='flex'>\n            <div className={Styles.adult_mask}>\n                <div>成人口罩數量</div>\n                <div className='w-full flex items-end pt-4'>\n                    <div className='flex flex-1 justify-center items-center'>\n                        <img src={adultFaceSvg} height='37px' alt=\"成人頭像\"/>\n                    </div>\n                    <div>\n                        <span className='text-16 pr-4'>{medicalStore.leftMask.adult}</span> 個\n                    </div>\n                </div>\n            </div>\n            <div className={Styles.children_mask}>\n                <div>兒童口罩數量</div>\n                <div className='w-full flex items-end pt-4'>\n                    <div className='flex flex-1 justify-center items-center'>\n                        <img src={childFaceSvg} height='40px' alt=\"兒童頭像\"/>\n                    </div>\n                    <div>\n                        <span className='text-16 pr-4'>{medicalStore.leftMask.children}</span> 個\n                    </div>\n                </div>\n            </div>\n\n        </div>\n    </div>\n);\n\nexport default Tooltip;\n","// 參考資料 : https://no23reason.github.io/react-geolocated/readme\n\nimport React from \"react\";\nimport {geolocated} from \"react-geolocated\";\n\n// redux\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\nimport ReduxMap from \"redux/map/actionReducer\";\n\nconst geolocatedConfig = {\n    positionOptions: {\n        enableHighAccuracy: false,\n    },\n    userDecisionTimeout: 5000,\n};\n\nclass GeoLocated extends React.Component {\n\n    componentDidUpdate(prevProps) {\n\n        if (prevProps.coords === this.props.coords) {\n\n            return null;\n\n        } else if (!this.props.isGeolocationAvailable) { //  Your browser does not support Geolocation\n\n        } else if (!this.props.isGeolocationEnabled) { //  Geolocation is not enabled\n\n        } else if (this.props.coords) { //  Geolocation has been got\n\n            const latitude = this.props.coords.latitude;\n            const longitude = this.props.coords.longitude;\n            // const altitude = this.props.coords.altitude;\n            // const heading = this.props.coords.heading;\n            // const speed = this.props.coords.speed;\n\n            this.props.actions.setMapCenter({lat: latitude, lng: longitude, fly: true});\n        }\n    }\n\n    render() {\n\n        return null;\n    }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n    const actions = {\n        setMapCenter: ReduxMap.ActionCreator.setMapCenter,\n    };\n\n    return {\n        actions: bindActionCreators(actions, dispatch),\n        dispatch,\n    }\n};\n\nexport default connect(null, mapDispatchToProps)(geolocated(geolocatedConfig)(GeoLocated));\n","const debounceMap = {};\n\nexport function debounce(func, delay) {\n    var timer = null;\n    return function () {\n        var context = this;\n        var args = arguments;\n        clearTimeout(timer);\n        timer = setTimeout(() => func.apply(context, args), delay);\n    }\n}\n\n// Define the method directly in your class\n// 產生延遲一秒效果的 function\n// 參考資料 : https://stackoverflow.com/questions/36294134/lodash-debounce-with-react-input\nexport const getDebounceFunc = (debounceId, wait = 1000) => {\n\n    const tempFunc = debounceMap[`${debounceId}`];\n\n    if (tempFunc) return tempFunc;\n    else {\n\n        const newTempFunc = debounce(func => func(), wait);\n        debounceMap[`${debounceId}`] = newTempFunc;\n        return newTempFunc;\n    }\n};\n\n\nexport function throttle(func, threshhold = 250) {\n    var last, timer;\n    return function () {\n        var context = this\n        var args = arguments\n        var now = +new Date()\n        if (last && now < last + threshhold) {\n            clearTimeout(timer)\n            timer = setTimeout(function () {\n                last = now\n                func.apply(context, args)\n            }, threshhold)\n        } else {\n            last = now\n            func.apply(context, args)\n        }\n    }\n}\n\nconst throttleMap = {};\n\n// Define the method directly in your class\n// 產生延遲一秒效果的 function\n// 參考資料 : https://stackoverflow.com/questions/36294134/lodash-debounce-with-react-input\nexport const getThrottleFunc = (throttleId, wait = 1000) => {\n\n    const tempFunc = throttleMap[`${throttleId}`];\n\n    if (tempFunc) return tempFunc;\n    else {\n\n        const newTempFunc = throttle(func => func(), wait);\n        throttleMap[`${throttleId}`] = newTempFunc;\n        return newTempFunc;\n    }\n};\n","// react\nimport React from 'react';\nimport ReactDOMServer from 'react-dom/server';\nimport Styles from './Map.module.css';\n\n// leaflet\nimport \"leaflet/dist/leaflet.css\";\nimport L from \"leaflet\";\n\n// components\nimport Tooltip from \"./components/Tooltip\";\nimport GeoLocated from \"./GeoLocation\";\n\n// redux\nimport {connect} from \"react-redux\";\nimport {bindActionCreators} from 'redux';\nimport ReduxMap from \"redux/map/actionReducer\";\nimport ReduxMask from \"redux/mask/actionReducer\";\n\n// utils\nimport {getDebounceFunc} from \"../../../utils/throttleUtil\";\n\n// 參考資料 : https://leafletjs.com/examples/quick-start/ & https://juejin.im/post/5cc192976fb9a032092e8e0a\nclass SimpleExample extends React.Component {\n\n    map = null;\n    layerGroup = null;\n    icons = {};\n\n    state = {\n        lat: this.props.center.lat, // 25.034180,\n        lng: this.props.center.lng, //121.554517,\n        zoom: 17\n    };\n\n    componentDidMount() {\n\n        ReduxMask.AsyncMethods.getMaskData().then().catch(e => console.error(e));\n\n        const map = L.map('mapid').setView([this.state.lat, this.state.lng], this.state.zoom);\n\n        const OSMUrl = \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\";\n\n        L.tileLayer(OSMUrl, {\n            id: 'mapbox/streets-v11',\n            tileSize: 512,\n            zoomOffset: -1,\n        }).addTo(map);\n\n        // 監聽 map 的移動事件\n        map.on('moveend', (e) => {\n\n            const latlng = map.getCenter();\n            this.setState({lat: latlng.lat, lng: latlng.lng});\n            this.props.actions.setMapCenter(latlng);\n        });\n\n        // 計算 5 km 內的藥局 , 並顯示之\n        this.map = map;\n        this.layerGroup = L.layerGroup().addTo(map); // add layerGroup for markers with clearLayers\n    }\n\n    componentDidUpdate(prevProps) {\n\n        if (this.map) {\n            if (this.props.center.fly) this.map.flyTo(this.props.center, 18);\n            getDebounceFunc('renderMarker')(() => this.renderMarker(this.map))\n        }\n    }\n\n    getIcon = (color = 'green') => {\n\n        const icon = this.icons[color];\n\n        if (icon) return icon;\n        else {\n\n            // 使用 leaflet-color-markers ( https://github.com/pointhi/leaflet-color-markers ) 當作 marker\n            const newIcon = new L.Icon({\n                iconUrl: `https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-${color}.png`,\n                shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',\n                iconSize: [25, 41],\n                iconAnchor: [12, 41],\n                popupAnchor: [1, -34],\n                shadowSize: [41, 41]\n            });\n\n            this.icons[color] = newIcon;\n            return newIcon;\n        }\n\n    };\n\n    getMedicalStores = () => {\n\n        const medicalStores = this.props.nearByMasks.map(mask => ({\n            lat: mask.geometry.coordinates[1],\n            lng: mask.geometry.coordinates[0],\n            ...mask.properties,\n            name: mask.properties.name,\n            address: mask.properties.address, // 401 - 郵遞區號 , 需要查詢郵局系統\n            time: '08:00~21:30', // 只有 available : 星期一上午看診、星期二上午看診、星期三上午看診、星期四上午看診\n            phone: mask.properties.phone,\n            leftMask: {\n                adult: mask.properties.mask_adult,\n                children: mask.properties.mask_child,\n            },\n        }));\n\n        return medicalStores;\n    };\n\n    getMarker = (store) => {\n\n        // 使用 leaflet-color-markers ( https://github.com/pointhi/leaflet-color-markers ) 當作 marker\n        const greenIcon = this.getIcon('green');\n        const goldIcon = this.getIcon('gold');\n        const redIcon = this.getIcon('red');\n\n        // we can use differ color present the left amount of mask ( user can pick finding mask_adult or mask_child )\n\n        // 0 => red\n        // 1 ~ 30 => gold\n        // 31 ~ => green\n\n        const maskType = this.props.maskType;\n        const mask_adult = store.leftMask.adult;\n        const mask_child = store.leftMask.children;\n\n        const getMaskAmount = (maskType) => {\n\n            if (maskType === 'child') return mask_child;\n            else if (maskType === 'adult') return mask_adult;\n            else return mask_child + mask_adult;\n        };\n\n\n        const getIcon = (maskAmount) => {\n\n            if (maskAmount > 30) return greenIcon;\n            else if (maskAmount <= 30 && maskAmount > 0) return goldIcon;\n            else return redIcon;\n        };\n\n        return L.marker([store.lat, store.lng], {icon: getIcon(getMaskAmount(maskType))});\n    };\n\n    renderMarker = () => {\n\n        const medicalStores = this.getMedicalStores();\n\n        // remove all the markers in one go\n        this.layerGroup.clearLayers();\n\n        medicalStores.forEach(store => {\n            const marker = this.getMarker(store).addTo(this.layerGroup);\n            const content = ReactDOMServer.renderToString(<Tooltip medicalStore={store}/>);  // 將 react-element 轉換成 html-string\n\n            marker.bindPopup(content, {className: 'popupCustom'});\n\n            if (store.lat === this.props.center.lat && store.lng === this.props.center.lng /* && this.props.center.fly */) {\n\n                marker.openPopup();\n            }\n        });\n\n    };\n\n    render() {\n\n        return (\n            <>\n                <GeoLocated/>\n                <div id='mapid' className={Styles.content}/>\n            </>\n        );\n    }\n}\n\nconst mapStateToProps = state => ({\n    center: ReduxMap.Selector.getMapCenter(state),\n    maskType: ReduxMap.Selector.getMaskType(state),\n    maskData: ReduxMask.Selector.getMaskData(state),\n    nearByMasks: ReduxMask.Selector.getNearByMasks(state),\n});\n\nconst mapDispatchToProps = (dispatch) => {\n    const actions = {\n        setMapCenter: ReduxMap.ActionCreator.setMapCenter,\n    };\n\n    return {\n        actions: bindActionCreators(actions, dispatch),\n        dispatch,\n    }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SimpleExample);\n\n","import React from 'react';\n\n// partial\nimport Navbar from './partial/navbar/Navbar';\nimport Footer from \"./partial/footer/Footer\";\nimport Toolbar from \"./partial/toolbar/Toolbar\";\nimport Hint from \"./partial/hint/Hint\";\nimport GoogleMap from \"./partial/map/Map\";\n\nconst App = (props) => {\n\n    return (\n        <div className='flex-col relative h-screen w-screen'>\n            <Toolbar/>\n            <Footer/>\n            <Hint/>\n            <Navbar/>\n            <GoogleMap/>\n        </div>\n    );\n};\n\nexport default App;\n","// // react\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport * as serviceWorker from './serviceWorker';\n\n// redux\nimport {Provider} from 'react-redux';\nimport createStore from './redux/@createStore';\n\n// layout\nimport App from './layout/App';\n\n// global import css\nimport './styles/index.css';\nimport './styles/map.css';\nimport './styles/tailwind.css';\nimport './styles/display.css';\n\nconst element = (\n    <Provider store={createStore()}>\n        <App/>\n    </Provider>\n);\n\nReactDOM.render(element, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"adult_mask\":\"Tooltip_adult_mask__2xWlT\",\"children_mask\":\"Tooltip_children_mask__3W61D\",\"text_name\":\"Tooltip_text_name__1sRnT\",\"text_address\":\"Tooltip_text_address__6QtQh\",\"time_letter\":\"Tooltip_time_letter__3WnV2\",\"phone_letter\":\"Tooltip_phone_letter__OMrgf\",\"card_root\":\"Tooltip_card_root__2KC-4\",\"text_root\":\"Tooltip_text_root__10nka\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Toolbar_root__RBAOB\",\"center_content\":\"Toolbar_center_content__2DNCu\",\"center_span\":\"Toolbar_center_span__ACh1S\",\"right_content\":\"Toolbar_right_content__2-Ayx\",\"tooltip_span\":\"Toolbar_tooltip_span__3cSGP\",\"tooltip_button\":\"Toolbar_tooltip_button__1xvBj\",\"tooltip\":\"Toolbar_tooltip__1ToF6\",\"input\":\"Toolbar_input__1T2Fv\",\"link\":\"Toolbar_link__sFkFj\",\"link_text\":\"Toolbar_link_text__3pVTn\",\"right_p\":\"Toolbar_right_p__pK4SD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Navbar_content__zed77\",\"setting\":\"Navbar_setting__1KffL\",\"adult_mask\":\"Navbar_adult_mask__2CaqS\",\"children_mask\":\"Navbar_children_mask__Zu0ks\",\"search_root\":\"Navbar_search_root__2THiG\",\"card_root\":\"Navbar_card_root__2fg19\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Hint_root__2JxGt\",\"all_type\":\"Hint_all_type__36N_U\",\"many_mask\":\"Hint_many_mask__97h0_\",\"less_mask\":\"Hint_less_mask__13wLS\",\"no_mask\":\"Hint_no_mask__31RI6\"};","module.exports = __webpack_public_path__ + \"static/media/phone-solid.584f89de.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Footer_root__1raA_\",\"link\":\"Footer_link__19_ri\"};","module.exports = __webpack_public_path__ + \"static/media/phone.5f78d8fd.svg\";","module.exports = __webpack_public_path__ + \"static/media/setting.6f1fd6d2.svg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAUCAIAAAAcIrrpAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAAGVSURBVDhPrZTZTsJAFIa9oqXL8GKtoGFRIKKiRcQHYHGPCRoUE+J2gYkmBmIRXOLyev7TskyHtoIh+S6G08OXmX9OOxcqajNkSl1FlxtJ6T4jXyXJ7jz/dCodOQgL3VzgZ8dGeM+rJ4tcz8S6sm67hI4hN5bFVpauX7dCJUfbxLqKju2I7Q0s6M+SJrwYMKrVKNs2TXbOjYhP69AptThb/EtX0pR6QmpmpNs02Q8P60o1GvguALYI/HTIXjTpiWyEjzzZo7dJXZ/bqEh3abYfeOrIYQRJU0s3h+yDj2tCL4fhUE4HrmaG+wtw1w1dYjuL7NXjBTs4lboKlmuF7R/ioiNHEeHNcrWypKyrZzG6No3gwyrNy9sFxnSD+YILa1QQ9mh6vwrydcrR74TXKRcJ6uoYtqtPWVfO4/LlEi5nVHSD10k3KXoc5soQHM2O6fFhbHd1a3emQazpV2oxHBDvA9vjg1t2PevdxCtlbtK83ObLizGdNSXic1+EEcO3iGvwwUVnAym+PxgUru6Pp+5/zFRX1H4BiyrG5MSrwYQAAAAASUVORK5CYII=\"","module.exports = __webpack_public_path__ + \"static/media/bulletin.02e4973d.jpg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAYCAIAAACA18GRAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAAExSURBVEhLY2DbnkMtNOTMSrm02OBwK5ogEHHtyMu4vEz9QAOaOBDhNOvLnx8FV1ejCQKR4K6i////R52fhyYOROhmWR7tyr6yQnR3KcQsn9NTc6+sREbie8ogZoWemx15fi7Pzny4XhSzos/P+/fvH1Cp9sGmt7++5F5duf75BSAXGSjsq/7x91fE+TlH390Fcne9vgbXjmLWxhdQne13dhRdWw1Elz49gYjAQdWNDRCpe1/fQESALoVoRzFr56urEGmSgPy+Koj2IWTW8qenO+7sJAZ9+P2NgFluJychC+JBD769HTVrmJu18cVFoNya5+f67+0lBn38/R2oHnt+jL2w4N9/UDlBPNjz+jpcO4pZQGRzrCfv6sqCq6uIQTEX5vPuLIDrRTeLEkQ9s7bnAADezOZBisoYGwAAAABJRU5ErkJggg==\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Map_content__3NY0G\",\"adult_mask\":\"Map_adult_mask__3DSUL\",\"children_mask\":\"Map_children_mask__1tT2R\",\"card_root\":\"Map_card_root__27zLj\",\"text_root\":\"Map_text_root__2qRJy\",\"marker\":\"Map_marker__Kq2pV\"};"],"sourceRoot":""}