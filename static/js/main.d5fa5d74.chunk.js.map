{"version":3,"sources":["assets/adult-face.svg","assets/child-face.svg","serviceWorker.js","redux/map/actionReducer.js","fetch/Common.js","fetch/MedicalStore.js","redux/mask/actionReducer.js","redux/place/actionReducer.js","redux/screen/global/actionReducer.js","redux/screen/index.js","redux/store.js","redux/@createStore.js","layout/partial/navbar/DropDown.js","layout/partial/navbar/Navbar.js","layout/partial/footer/Footer.js","utils/dateUtil.js","layout/partial/toolbar/Toolbar.js","layout/partial/hint/Hint.js","layout/partial/map/components/Tooltip.js","layout/partial/map/GeoLocation.js","layout/partial/map/Map.js","layout/App.js","index.js","layout/partial/map/components/Tooltip.module.css","layout/partial/toolbar/Toolbar.module.css","layout/partial/navbar/Navbar.module.css","layout/partial/hint/Hint.module.css","assets/phone-solid.svg","layout/partial/footer/Footer.module.css","assets/phone.svg","assets/setting.svg","assets/link.png","assets/bulletin.jpg","assets/calender.png","layout/partial/map/Map.module.css","assets/clock-regular.svg"],"names":["module","exports","Boolean","window","location","hostname","match","ActionType","SET_MAP_CENTER","SET_DISTANCE","SET_MASK_TYPE","TOGGLE_DRAWER","initialState","mapCenter","lat","lng","distance","meter","maskType","drawerOpen","ReduxMap","ActionCreator","setMapCenter","center","type","Data","setDistance","setMaskType","toggleDrawer","Reducer","state","action","Selector","getMapCenter","Map","getDistance","getMaskType","getDrawerOpen","AsyncMethods","_fetch","a","headers","url","params","data","method","timeout","baseURL","resolve","reject","isUrlAll","startsWith","Axios","undefined","response","status","responseJson","DomainCommon","jsonBody","MedicalStoreService","getStores","Promise","fetchGet","SET_MASK_DATA","setMaskData","maskData","getMaskData","dispatch","getReduxDispatch","MaskService","features","ReduxCustomer","Mask","getNearByMasks","filter","mask","latitude","longitude","geometry","coordinates","SET_CUSTOMER_DATA","SET_SINGLE_CUSTOMER","customerData","queryInfo","singleCustomer","setCustomerData","setSingleCustomer","customer","getCustomerData","Customer","getSingleCustomer","OPEN_LOADING_BLOCK","CLOSE_LOADING_BLOCK","loadingBlockOpen","ReduxGlobal","openLoadingBlock","closeLoadingBlock","Screen","Global","getLoadingBlockOpen","combineReducers","ReduxMask","Place","ReduxPlace","ReduxScreen","store","StyledSelect","withStyles","root","padding","Select","DropDown","value","props","handleChange","event","child","newValue","target","setState","onChange","variant","fullWidth","this","map","item","index","MenuItem","key","label","React","Component","MdNavbar","handleClick","fly","getMedicalStores","nearByMasks","properties","name","address","time","phone","leftMask","adult","mask_adult","children","mask_child","actions","newMedicalStores","className","Styles","content","search_root","length","card_root","onClick","style","fontWeight","color","href","e","stopPropagation","src","bigPhoneSvg","paddingRight","paddingLeft","height","alt","paddingTop","fontSize","paddingBottom","phoneSvg","verticalAlign","adult_mask","children_mask","LeftDrawer","SwipeableDrawer","anchor","open","onOpen","onClose","connect","bindActionCreators","Hidden","xsDown","smUp","setting","setTimeout","settingSvg","BigContent","link","Footer","DateUtil","date","format","moment","0","1","2","3","4","5","6","weekday","add","toDate","unit","startOf","endOf","getDateStr","dateUtil","getWeekDayStr","Toolbar","calenderPng","Date","nextWeek","right_content","right_p","linkPng","bulletinJpg","link_text","Hint","many_mask","less_mask","no_mask","Tooltip","medicalStore","text_root","text_name","text_address","clockSvg","time_letter","phone_letter","adultFaceSvg","childFaceSvg","GeoLocated","prevProps","coords","isGeolocationAvailable","isGeolocationEnabled","altitude","heading","speed","geolocated","positionOptions","enableHighAccuracy","userDecisionTimeout","SimpleExample","layerGroup","icons","zoom","getIcon","icon","newIcon","L","Icon","iconUrl","shadowUrl","iconSize","iconAnchor","popupAnchor","shadowSize","getMarker","maskAmount","greenIcon","goldIcon","redIcon","marker","getMaskAmount","renderMarker","medicalStores","clearLayers","forEach","addTo","ReactDOMServer","renderToString","bindPopup","then","catch","console","error","setView","tileLayer","id","tileSize","zoomOffset","on","latlng","getCenter","flyTo","App","element","createStore","reducers","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"iGAAAA,EAAOC,QAAU,IAA0B,wC,oBCA3CD,EAAOC,QAAU,IAA0B,wC,oLCYvBC,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2D,4BChBAC,EAAa,CACfC,eAAgB,uBAChBC,aAAc,qBACdC,cAAe,sBACfC,cAAe,uBAoCbC,EAAe,CACjBC,UAAW,CACPC,IAAK,SACLC,IAAK,YAETC,SAAU,CACNC,MAAO,KAEXC,SAAU,QACVC,YAAY,GAyCDC,EAFE,CAACb,aAAYc,cAjFR,CAClBC,aADkB,SACLC,GACT,MAAO,CACHC,KAAMjB,EAAWC,eACjBiB,KAAMF,IAGdG,YAPkB,SAONV,GACR,MAAO,CACHQ,KAAMjB,EAAWE,aACjBgB,KAAMT,IAGdW,YAbkB,SAaNT,GACR,MAAO,CACHM,KAAMjB,EAAWG,cACjBe,KAAMP,IAGdU,aAnBkB,WAoBd,MAAO,CACHJ,KAAMjB,EAAWI,iBA4DgBkB,QApC7B,WAAyC,IAA/BC,EAA8B,uDAAtBlB,EAAcmB,EAAQ,uCACpD,OAAQA,EAAOP,MACX,KAAKjB,EAAWC,eACZ,OAAO,eACAsB,EADP,CAEIjB,UAAWkB,EAAON,OAG1B,KAAKlB,EAAWE,aACZ,OAAO,eACAqB,EADP,CAEId,SAAUe,EAAON,OAGzB,KAAKlB,EAAWG,cACZ,OAAO,eACAoB,EADP,CAEIZ,SAAUa,EAAON,OAGzB,KAAKlB,EAAWI,cACZ,OAAO,eACAmB,EADP,CAEIX,YAAaW,EAAMX,aAG3B,QACI,OAAOW,IASmCE,SAvDrC,CACbC,aAAc,SAACH,GAAD,OAAWA,EAAMI,IAAIrB,WACnCsB,YAAa,SAACL,GAAD,OAAWA,EAAMI,IAAIlB,UAClCoB,YAAa,SAACN,GAAD,OAAWA,EAAMI,IAAIhB,UAClCmB,cAAe,SAACP,GAAD,OAAWA,EAAMI,IAAIf,aAmDwBmB,aAF3C,I,kECxDNC,E,8EAAf,yDAAAC,EAAA,iEAAuBC,eAAvB,MAAiC,GAAjC,EAAqCC,EAArC,EAAqCA,IAAKC,EAA1C,EAA0CA,OAAQC,EAAlD,EAAkDA,KAAMC,EAAxD,EAAwDA,OAAxD,IAAgEC,eAAhE,MAA0E,IAA1E,MAAoFC,eAApF,MAA8F,wBAA9F,EAAuHC,EAAvH,EAAuHA,QAASC,EAAhI,EAAgIA,OAAhI,SAGcC,EAAWR,EAAIS,WAAW,QAHxC,SAK6BC,IAAM,CACvBP,SACAH,MACAK,QAASG,OAAWG,EAAYN,EAChCN,UACAE,SACAC,OACAE,YAZZ,UAegC,OAVpBQ,EALZ,QAeqBC,OAfrB,iBAgBYP,EAAQ,IAhBpB,mDAmByCM,EAASV,KAnBlD,QAmBoBY,EAnBpB,OAoBgBR,EAAQQ,GApBxB,mDAuBgBR,EAAQ,IAvBxB,0DA8BQC,EAAO,EAAD,IA9Bd,mE,sBAkCeQ,M,yGA9D2D,IAArDf,EAAoD,EAApDA,IAAKC,EAA+C,EAA/CA,OAAQK,EAAuC,EAAvCA,QAASC,EAA8B,EAA9BA,OAA8B,IAAtBH,QAE3C,OAAOP,EAAO,CAACG,MAAKM,UAASC,SAAQJ,OAAQ,MAAOF,SAAQG,aAFK,WAAZO,EAAY,M,mCAKY,IAA/DX,EAA8D,EAA9DA,IAAKC,EAAyD,EAAzDA,OAAQe,EAAiD,EAAjDA,SAAUV,EAAuC,EAAvCA,QAASC,EAA8B,EAA9BA,OAA8B,IAAtBH,QAEtD,OAAOP,EAAO,CAACG,MAAKM,UAASC,SAAQJ,OAAQ,OAAQF,SAAQC,KAAMc,EAAUZ,aAFD,WAAZO,EAAY,M,kCAKA,IAA/DX,EAA8D,EAA9DA,IAAKC,EAAyD,EAAzDA,OAAQe,EAAiD,EAAjDA,SAAUV,EAAuC,EAAvCA,QAASC,EAA8B,EAA9BA,OAA8B,IAAtBH,QAErD,OAAOP,EAAO,CAACG,MAAKM,UAASC,SAAQJ,OAAQ,MAAOF,SAAQC,KAAMc,EAAUZ,aAFD,WAAZO,EAAY,M,oCAKG,IAA/DX,EAA8D,EAA9DA,IAAKC,EAAyD,EAAzDA,OAAQe,EAAiD,EAAjDA,SAAUV,EAAuC,EAAvCA,QAASC,EAA8B,EAA9BA,OAA8B,IAAtBH,QAEvD,OAAOP,EAAO,CAACG,MAAKM,UAASC,SAAQJ,OAAQ,QAASF,SAAQC,KAAMc,EAAUZ,aAFD,WAAZO,EAAY,M,qCAKE,IAA/DX,EAA8D,EAA9DA,IAAKC,EAAyD,EAAzDA,OAAQe,EAAiD,EAAjDA,SAAUV,EAAuC,EAAvCA,QAASC,EAA8B,EAA9BA,OAA8B,IAAtBH,QAExD,OAAOP,EAAO,CAACG,MAAKM,UAASC,SAAQJ,OAAQ,SAAUF,SAAQC,KAAMc,EAAUZ,aAFD,WAAZO,EAAY,Q,KCRvEM,EAba,CAExBC,UAAW,WACP,OAAO,IAAIC,SAAQ,SAACb,EAASC,GACzB,OAAOQ,EAAaK,SAAS,CACzBpB,IAAK,6EACLM,UAASC,gB,QCFnB1C,EAAa,CACfwD,cAAe,wBAGb1C,EAAgB,CAClB2C,YADkB,SACNC,GACR,MAAO,CACHzC,KAAMjB,EAAWwD,cACjBtC,KAAMwC,KA2BZrD,EAAe,CACjBqD,SAAU,IAmBR3B,EAAe,CAEX4B,YAFW,WAEI,OAAD,mHAEVC,EAAWC,IAFD,SAIOC,EAAYT,YAJnB,cAIVK,EAJU,OAKhBE,EAAS9C,EAAc2C,YAAYC,EAASK,WAL5B,kBAOTL,GAPS,+CAcTM,EAFO,CAAChE,aAAYc,gBAAeQ,QA9BlC,WAAyC,IAA/BC,EAA8B,uDAAtBlB,EAAcmB,EAAQ,uCACpD,OAAQA,EAAOP,MACX,KAAKjB,EAAWwD,cACZ,OAAO,eACAjC,EADP,CAEImC,SAAUlC,EAAON,OAGzB,QACI,OAAOK,IAqBwCE,SAxD1C,CACbkC,YAAa,SAACpC,GAAD,OAAWA,EAAM0C,KAAKP,UACnCQ,eAAgB,SAAC3C,GAEb,IAAMmC,EAAWnC,EAAM0C,KAAKP,SACtBhD,EAAQa,EAAMI,IAAIlB,SAASC,MAC3BM,EAASO,EAAMI,IAAIrB,UAEzB,OAAOoD,EAASS,QAAO,SAAAC,GASnB,OAPiBxC,sBACb,CAACyC,SAAUrD,EAAOT,IAAK+D,UAAWtD,EAAOR,KACzC,CAAC6D,SAAUD,EAAKG,SAASC,YAAY,GAAIF,UAAWF,EAAKG,SAASC,YAAY,MAK/D9D,OAuCsCqB,gBC1E/D/B,EAAa,CACfyE,kBAAmB,+BACnBC,oBAAqB,kCAuBnBrE,EAAe,CACjBsE,aAAc,GACdC,UAAW,GACXC,eAAgB,IAmDLb,EAFO,CAAChE,aAAYc,cAxEb,CAClBgE,gBADkB,SACFH,GACZ,MAAO,CACH1D,KAAMjB,EAAWyE,kBACjBvD,KAAMyD,IAGdI,kBAPkB,SAOAC,GACd,MAAO,CACH/D,KAAMjB,EAAW0E,oBACjBxD,KAAM8D,KA8DgC1D,QA9ClC,WAAyC,IAA/BC,EAA8B,uDAAtBlB,EAAcmB,EAAQ,uCACpD,OAAQA,EAAOP,MACX,KAAKjB,EAAWyE,kBACZ,OAAO,eACAlD,EADP,CAEIoD,aAAcnD,EAAON,OAG7B,KAAKlB,EAAW0E,oBACZ,OAAO,eACAnD,EADP,CAEIsD,eAAgBrD,EAAON,OAG/B,QACI,OAAOK,IA+BwCE,SAzD1C,CACbwD,gBAAiB,SAAC1D,GAAD,OAAWA,EAAM2D,SAASP,cAC3CQ,kBAAmB,SAAC5D,GAAD,OAAWA,EAAM2D,SAASL,iBAuDoB9C,aANhD,ICzEf/B,EAAa,CACfI,cAAe,yBACfgF,mBAAoB,8BACpBC,oBAAqB,gCA0BnBhF,EAAe,CACjBO,YAAY,EACZ0E,kBAAkB,GA+BPC,EAFK,CAACvF,aAAYc,cAtDX,CAClBO,aADkB,WAEd,MAAO,CACHJ,KAAMjB,EAAWI,gBAGzBoF,iBANkB,WAOd,MAAO,CACHvE,KAAMjB,EAAWoF,qBAGzBK,kBAXkB,WAYd,MAAO,CACHxE,KAAMjB,EAAWqF,uBAyCmB/D,QA1BhC,WAAyC,IAA/BC,EAA8B,uDAAtBlB,EAAcmB,EAAQ,uCACpD,OAAQA,EAAOP,MACX,KAAKjB,EAAWI,cACZ,OAAO,eACAmB,EADP,CAEIX,YAAaW,EAAMX,aAG3B,KAAKZ,EAAWoF,mBACZ,OAAO,eACA7D,EADP,CAEI+D,kBAAkB,IAG1B,KAAKtF,EAAWqF,oBACZ,OAAO,eACA9D,EADP,CAEI+D,kBAAkB,IAG1B,QACI,OAAO/D,IAKsCE,SApCxC,CACbK,cAAe,SAACP,GAAD,OAAWA,EAAMmE,OAAOC,OAAO/E,YAC9CgF,oBAAqB,SAACrE,GAAD,OAAWA,EAAMmE,OAAOC,OAAOL,oBCvBzCO,cAAgB,CAC3BF,OAAQJ,EAAYjE,UCETuE,cAAgB,CAC3BlE,IAAKd,EAASS,QACd2C,KAAM6B,EAAUxE,QAChByE,MAAOC,EAAW1E,QAClBoE,OAAQO,ICPRC,OAAQpD,EAUCe,EAAmB,kBAAMqC,EAAMtC,U,kECVtCuC,EAAeC,YAAW,CAC5BC,KAAM,CACFC,QAAS,SAFIF,CAIlBG,KA0BYC,E,2MAtBXjF,MAAQ,CACJkF,MAAO,EAAKC,MAAMD,O,EAGtBE,aAAe,SAACC,EAAOC,GACnB,IAAMC,EAAWF,EAAMG,OAAON,MAC9B,EAAKO,SAAS,CAACP,MAAOK,IACtB,EAAKJ,MAAMO,UAAY,EAAKP,MAAMO,SAASH,I,wEAK3C,OACI,kBAACX,EAAD,CAAce,QAAQ,SAASC,WAAS,EAACV,MAAOW,KAAK7F,MAAMkF,MAAOQ,SAAUG,KAAKT,eAC3ES,KAAKV,MAAMrE,MAAQ,IAAIgF,KAAI,SAACC,EAAMC,GAAP,OACzB,kBAACC,EAAA,EAAD,CAAUC,IAAG,eAAUF,GAASd,MAAOa,EAAKb,OAAQa,EAAKI,e,GAjBtDC,IAAMC,W,0ECWvBC,G,2MAEFC,YAAc,SAAC5B,EAAOnF,GAAR,OAAyB,SAAA6F,GAEnC,IAAMrG,EAAM2F,EAAM3F,IACZC,EAAM0F,EAAM1F,IAClBO,EAAa,CAACR,MAAKC,MAAKuH,KAAK,M,EAGjCC,iBAAmB,WAgBf,OAdsB,EAAKtB,MAAMuB,YAAYZ,KAAI,SAAAjD,GAAI,oBACjD7D,IAAK6D,EAAKG,SAASC,YAAY,GAC/BhE,IAAK4D,EAAKG,SAASC,YAAY,IAC5BJ,EAAK8D,WAHyC,CAIjDC,KAAM/D,EAAK8D,WAAWC,KACtBC,QAAShE,EAAK8D,WAAWE,QACzBC,KAAM,cACNC,MAAOlE,EAAK8D,WAAWI,MACvBC,SAAU,CACNC,MAAOpE,EAAK8D,WAAWO,WACvBC,SAAUtE,EAAK8D,WAAWS,kB,wEAO5B,IAAD,OAECjC,EAAQU,KAAKV,MAFd,EAG8BU,KAAKV,MAAMkC,QAAvCzH,EAHF,EAGEA,YAAaC,EAHf,EAGeA,YAEdyH,EAAmBzB,KAAKY,mBAE9B,OACI,yBAAKc,UAAWC,IAAOC,SAEnB,yBAAKF,UAAWC,IAAOE,aACnB,6CACA,kBAAC,EAAD,CACIxC,MAAO,EACPpE,KAAM,CACF,CAACoE,MAAO,EAAGiB,MAAO,QAClB,CAACjB,MAAO,EAAGiB,MAAO,QAClB,CAACjB,MAAO,EAAGiB,MAAO,OAClB,CAACjB,MAAO,EAAGiB,MAAO,QAEtBT,SAAU,SAACH,GAEU,IAAbA,EAAgB3F,EAAY,CAACT,MAAO,MAClB,IAAboG,EAAgB3F,EAAY,CAACT,MAAO,MACvB,IAAboG,EAAgB3F,EAAY,CAACT,MAAO,MACvB,IAAboG,GAAgB3F,EAAY,CAACT,MAAO,SAGrD,yBAAKoI,UAAU,SAAf,4BACA,kBAAC,EAAD,CACIrC,MAAO,EACPpE,KAAM,CACF,CAACoE,MAAO,EAAGiB,MAAO,gBAClB,CAACjB,MAAO,EAAGiB,MAAO,gBAClB,CAACjB,MAAO,EAAGiB,MAAO,mCAEtBT,SAAU,SAACH,GAGU,IAAbA,EAAgB1F,EAAY,SACV,IAAb0F,EAAgB1F,EAAY,SACf,IAAb0F,GAAgB1F,EAAY,qBAKjD,yBAAK0H,UAAU,aAAf,UACOD,EAAmBA,EAAiBK,OAAS,EADpD,mCAKIL,EAAiBxB,KAAI,SAACnB,EAAOqB,GAAR,OAEjB,yBAAKuB,UAAWC,IAAOI,UAAW1B,IAAG,eAAUF,GAC1C6B,QAAS,EAAKtB,YAAY5B,EAAOQ,EAAMkC,QAAQ7H,eAChD,yBAAK+H,UAAU,QACX,yBAAKA,UAAU,SAASO,MAAO,CAACC,WAAY,IAAKC,MAAO,YAAarD,EAAMiC,MAC3E,uBAAGqB,KAAI,mBAActD,EAAMoC,OAASc,QAAS,SAACK,GAC1CA,EAAEC,oBAEF,yBAAKC,IAAKC,IACLP,MAAO,CAACQ,aAAc,MAAOC,YAAa,OAC1CC,OAAO,OACPC,IAAI,mBAGjB,yBAAKX,MAAO,CAACY,WAAY,QACrB,yBAAKZ,MAAO,CAACa,SAAU,OAAQX,MAAO,YAAarD,EAAMkC,UAE7D,yBAAKU,UAAU,oBAAoBO,MAAO,CAACY,WAAY,MAAOE,cAAe,QACzE,yBAAKR,IAAKS,IACLf,MAAO,CAACQ,aAAc,MAAOC,YAAa,OAC1CC,OAAO,OACPC,IAAI,6BACT,yBAAKX,MAAO,CAACgB,cAAe,SAAUH,SAAU,OAAQX,MAAO,YAC1DrD,EAAMoC,QAGf,yBAAKQ,UAAU,QACX,yBAAKA,UAAWC,IAAOuB,YACnB,yBAAKxB,UAAU,eAAf,4BACA,6BAAM5C,EAAMqC,SAASC,MAArB,WAEJ,yBAAKM,UAAWC,IAAOwB,eACnB,yBAAKzB,UAAU,eAAf,4BACA,6BAAM5C,EAAMqC,SAASG,SAArB,qB,GAjHbf,IAAMC,WA6HvB4C,G,2MAEFnJ,aAAe,kBAAM,EAAKqF,MAAMkC,QAAQvH,gB,wEAIpC,OACI,kBAACoJ,GAAA,EAAD,CACIC,OAAO,OACPC,KAAMvD,KAAKV,MAAM9F,WACjBgK,OAAQxD,KAAK/F,aACbwJ,QAASzD,KAAK/F,cAEd,kBAAC,GAAa+F,KAAKV,Y,GAbViB,IAAMC,WAuDhBkD,gBArBS,SAAAvJ,GAAK,MAAK,CAC9BP,OAAQH,EAASY,SAASC,aAAaH,GACvCX,WAAYC,EAASY,SAASK,cAAcP,GAC5CmC,SAAUoC,EAAUrE,SAASkC,YAAYpC,GACzC0G,YAAanC,EAAUrE,SAASyC,eAAe3C,OAGxB,SAACqC,GACxB,IAAMgF,EAAU,CACZ7H,aAAcF,EAASC,cAAcC,aACrCI,YAAaN,EAASC,cAAcK,YACpCC,YAAaP,EAASC,cAAcM,YACpCC,aAAcR,EAASC,cAAcO,cAGzC,MAAO,CACHuH,QAASmC,YAAmBnC,EAAShF,GACrCA,cAIOkH,EApCA,SAACpE,GAAD,OACX,oCACI,kBAACsE,GAAA,EAAD,CAAQC,QAAM,GACV,kBAAC,GAAavE,IAElB,kBAACsE,GAAA,EAAD,CAAQE,MAAI,GACR,kBAAC,GAAexE,GAChB,yBAAKoC,UAAWC,IAAOoC,QAAS/B,QAAS,kBAAMgC,WAAW1E,EAAMkC,QAAQvH,aAAc,OAClF,yBAAKsI,IAAK0B,KAAYtB,OAAO,OAAOC,IAAI,uB,oBCzKlDsB,G,iLAIE,OACI,yBAAKxC,UAAU,4BAEX,qEAEI,uBAAGA,UAAWC,KAAOwC,KAAM/B,KAAK,2CAA2CzC,OAAO,UAAlF,WAIJ,6BACI,0BAAM+B,UAAU,YAAhB,yD,GAdKnB,IAAMC,WA4BhB4D,GANA,kBACX,yBAAK1C,UAAS,yDAAoDC,KAAO1C,OACrE,kBAAC,GAAD,Q,oGCqBOoF,G,oGA5CGC,GAA8B,IAAxBC,EAAuB,uDAAd,aAEzB,OAAID,EAAaE,KAAOF,GAAMC,OAAOA,GACzBD,I,oCAGKA,GAYjB,MAVmB,CACfG,EAAG,SACHC,EAAG,SACHC,EAAG,SACHC,EAAG,SACHC,EAAG,SACHC,EAAG,SACHC,EAAG,UAGWP,KAAOF,GAAMU,a,kCAK/B,OAAOR,OAASS,KAAK,EAAG,KAAKC,W,iCAK7B,OAAOV,OAASS,IAAI,EAAG,KAAKC,W,8BAGjBZ,GAAmB,IAAba,EAAY,uDAAL,IAExB,OAAOX,KAAOF,GAAMc,QAAQD,GAAMD,W,4BAGzBZ,GAAmB,IAAba,EAAY,uDAAL,IAEtB,OAAOX,KAAOF,GAAMe,MAAMF,GAAMD,a,KCClCI,GAAa,SAAAhB,GAAI,gBAAMiB,GAAShB,OAAOD,EAAK,SAA3B,YAAuCiB,GAASC,cAAclB,GAA9D,MA6BRmB,GA1BC,SAACnG,GAAD,OACZ,yBAAKoC,UAAS,2CAAsCC,KAAO1C,OACvD,yBAAKyC,UAAU,oDACX,yBAAKA,UAAU,oBACX,yBAAKA,UAAU,OAAOa,IAAKmD,KAAa9C,IAAI,6BADhD,SAIA,yBAAKlB,UAAU,gBAAgB4D,GAAW,IAAIK,OAC9C,yBAAKjE,UAAU,WAAWO,MAAO,CAACa,SAAU,SAA5C,6FAAqEwC,GAAWC,GAASK,cAE7F,kBAAChC,GAAA,EAAD,CAAQC,QAAM,GACV,yBAAKnC,UAAWC,KAAOkE,eACnB,yBAAKnE,UAAU,wCACX,uBAAGA,UAAWC,KAAOmE,SAArB,kKACA,uBAAGpE,UAAWC,KAAOmE,SAArB,6HACA,uBAAGpE,UAAWC,KAAOmE,SAArB,yGAEJ,yBAAKpE,UAAWC,KAAOwC,MACnB,yBAAK5B,IAAKwD,KAASnD,IAAI,+CACvB,uBAAGR,KAAM4D,KAAarG,OAAO,SAAS+B,UAAWC,KAAOsE,WAAW,kF,oBCrDxEC,GATF,SAAC5G,GAAD,OACT,yBAAKoC,UAAWC,KAAO1C,MAEnB,yBAAKyC,UAAWC,KAAOwE,WAAvB,QACA,yBAAKzE,UAAWC,KAAOyE,WAAvB,UACA,yBAAK1E,UAAWC,KAAO0E,SAAvB,wB,uJCyDOC,GArDC,SAAC,GAAD,IAAEC,EAAF,EAAEA,aAAF,OACZ,yBAAK7E,UAAWC,KAAOI,WAEnB,yBAAKL,UAAWC,KAAO6E,WAEnB,yBAAK9E,UAAU,QACX,0BAAMA,UAAWC,KAAO8E,WAAYF,EAAaxF,OAErD,yBAAKW,UAAU,QACX,0BAAMA,UAAWC,KAAO+E,cACnBH,EAAavF,UAGtB,yBAAKU,UAAU,QACX,yBAAKA,UAAU,4BACX,yBAAKA,UAAU,OAAOiB,OAAO,OAAOJ,IAAKoE,KAAU/D,IAAI,yBACvD,0BAAMlB,UAAWC,KAAOiF,aAAcL,EAAatF,OAEvD,yBAAKS,UAAU,4BACX,yBAAKA,UAAU,OAAOa,IAAKS,IAAUL,OAAO,OAAOC,IAAI,oBACvD,0BAAMlB,UAAWC,KAAOkF,cAAeN,EAAarF,UAKhE,yBAAKQ,UAAU,QACX,yBAAKA,UAAWC,KAAOuB,YACnB,qEACA,yBAAKxB,UAAU,8BACX,yBAAKA,UAAU,2CACX,yBAAKa,IAAKuE,KAAcnE,OAAO,OAAOC,IAAI,8BAE9C,6BACI,0BAAMlB,UAAU,gBAAgB6E,EAAapF,SAASC,OAD1D,aAKR,yBAAKM,UAAWC,KAAOwB,eACnB,qEACA,yBAAKzB,UAAU,8BACX,yBAAKA,UAAU,2CACX,yBAAKa,IAAKwE,KAAcpE,OAAO,OAAOC,IAAI,8BAE9C,6BACI,0BAAMlB,UAAU,gBAAgB6E,EAAapF,SAASG,UAD1D,gB,UCtCd0F,G,2LAEiBC,GAEf,GAAIA,EAAUC,SAAWlH,KAAKV,MAAM4H,OAEhC,OAAO,KAEJ,GAAKlH,KAAKV,MAAM6H,uBAEhB,GAAKnH,KAAKV,MAAM8H,sBAEhB,GAAIpH,KAAKV,MAAM4H,OAAQ,CAE1B,IAAMjK,EAAW+C,KAAKV,MAAM4H,OAAOjK,SAC7BC,EAAY8C,KAAKV,MAAM4H,OAAOhK,UACnB8C,KAAKV,MAAM4H,OAAOG,SACnBrH,KAAKV,MAAM4H,OAAOI,QACpBtH,KAAKV,MAAM4H,OAAOK,MAEhCvH,KAAKV,MAAMkC,QAAQ7H,aAAa,CAACR,IAAK8D,EAAU7D,IAAK8D,EAAWyD,KAAK,kB,+BAMzE,OAAO,S,GA1BUJ,IAAMC,WAyChBkD,eAAQ,MAXI,SAAClH,GACxB,IAAMgF,EAAU,CACZ7H,aAAcF,EAASC,cAAcC,cAGzC,MAAO,CACH6H,QAASmC,YAAmBnC,EAAShF,GACrCA,cAIOkH,CAAkC8D,sBAhDxB,CACrBC,gBAAiB,CACbC,oBAAoB,GAExBC,oBAAqB,KA4CwBH,CAA6BR,KCtCxEY,G,2MAEF3H,IAAM,K,EACN4H,WAAa,K,EACbC,MAAQ,G,EAER3N,MAAQ,CACJhB,IAAK,EAAKmG,MAAM1F,OAAOT,IACvBC,IAAK,EAAKkG,MAAM1F,OAAOR,IACvB2O,KAAM,I,EAsCVC,QAAU,WAAsB,IAArB7F,EAAoB,uDAAZ,QAET8F,EAAO,EAAKH,MAAM3F,GAExB,GAAI8F,EAAM,OAAOA,EAIb,IAAMC,EAAU,IAAIC,KAAEC,KAAK,CACvBC,QAAQ,kFAAD,OAAoFlG,EAApF,QACPmG,UAAW,gFACXC,SAAU,CAAC,GAAI,IACfC,WAAY,CAAC,GAAI,IACjBC,YAAa,CAAC,GAAI,IAClBC,WAAY,CAAC,GAAI,MAIrB,OADA,EAAKZ,MAAM3F,GAAS+F,EACbA,G,EAKftH,iBAAmB,WAgBf,OAdsB,EAAKtB,MAAMuB,YAAYZ,KAAI,SAAAjD,GAAI,oBACjD7D,IAAK6D,EAAKG,SAASC,YAAY,GAC/BhE,IAAK4D,EAAKG,SAASC,YAAY,IAC5BJ,EAAK8D,WAHyC,CAIjDC,KAAM/D,EAAK8D,WAAWC,KACtBC,QAAShE,EAAK8D,WAAWE,QACzBC,KAAM,cACNC,MAAOlE,EAAK8D,WAAWI,MACvBC,SAAU,CACNC,MAAOpE,EAAK8D,WAAWO,WACvBC,SAAUtE,EAAK8D,WAAWS,kB,EAOtCoH,UAAY,SAAC7J,GAGT,IAsBiB8J,EAtBXC,EAAY,EAAKb,QAAQ,SACzBc,EAAW,EAAKd,QAAQ,QACxBe,EAAU,EAAKf,QAAQ,OAQvBzO,EAAW,EAAK+F,MAAM/F,SACtB8H,EAAavC,EAAMqC,SAASC,MAC5BG,EAAazC,EAAMqC,SAASG,SAiBlC,OAAO6G,KAAEa,OAAO,CAAClK,EAAM3F,IAAK2F,EAAM1F,KAAM,CAAC6O,MAPxBW,EARK,SAACrP,GAEnB,MAAiB,UAAbA,EAA6BgI,EACX,UAAbhI,EAA6B8H,EAC1BE,EAAaF,EAW0B4H,CAAc1P,GAL7DqP,EAAa,GAAWC,EACnBD,GAAc,IAAMA,EAAa,EAAUE,EACxCC,M,EAMpBG,aAAe,WAEX,IAAMC,EAAgB,EAAKvI,mBAG3B,EAAKiH,WAAWuB,cAEhBD,EAAcE,SAAQ,SAAAvK,GAClB,IAAMkK,EAAS,EAAKL,UAAU7J,GAAOwK,MAAM,EAAKzB,YAC1CjG,EAAU2H,KAAeC,eAAe,kBAAC,GAAD,CAASjD,aAAczH,KAErEkK,EAAOS,UAAU7H,EAAS,CAACF,UAAW,gBAElC5C,EAAM3F,MAAQ,EAAKmG,MAAM1F,OAAOT,KAAO2F,EAAM1F,MAAQ,EAAKkG,MAAM1F,OAAOR,KAAO,EAAKkG,MAAM1F,OAAO+G,Q,mFA7HvF,IAAD,OAEhBjC,EAAU/D,aAAa4B,cAAcmN,OAAOC,OAAM,SAAAtH,GAAC,OAAIuH,QAAQC,MAAMxH,MAErE,IAAMpC,EAAMkI,KAAElI,IAAI,SAAS6J,QAAQ,CAAC9J,KAAK7F,MAAMhB,IAAK6G,KAAK7F,MAAMf,KAAM4G,KAAK7F,MAAM4N,MAIhFI,KAAE4B,UAFa,qDAEK,CAChBC,GAAI,qBACJC,SAAU,IACVC,YAAa,IACdZ,MAAMrJ,GAETA,EAAIkK,GAAG,WAAW,SAAC9H,GAEf,IAAM+H,EAASnK,EAAIoK,YACnB,EAAKzK,SAAS,CAACzG,IAAKiR,EAAOjR,IAAKC,IAAKgR,EAAOhR,MAC5C,EAAKkG,MAAMkC,QAAQ7H,aAAayQ,MAKpCpK,KAAKC,IAAMA,EACXD,KAAK6H,WAAaM,KAAEN,aAAayB,MAAMrJ,K,yCAGxBgH,GAEXjH,KAAKC,MACDD,KAAKV,MAAM1F,OAAO+G,KAAKX,KAAKC,IAAIqK,MAAMtK,KAAKV,MAAM1F,OAAQ,IAC7DoG,KAAKkJ,aAAalJ,KAAKC,Q,+BA0G3B,OACI,oCACI,kBAAC,GAAD,MACA,yBAAK+J,GAAG,QAAQtI,UAAWC,KAAOC,e,GAxJtBrB,IAAMC,WAgLnBkD,gBAlBS,SAAAvJ,GAAK,MAAK,CAC9BP,OAAQH,EAASY,SAASC,aAAaH,GACvCZ,SAAUE,EAASY,SAASI,YAAYN,GACxCmC,SAAUoC,EAAUrE,SAASkC,YAAYpC,GACzC0G,YAAanC,EAAUrE,SAASyC,eAAe3C,OAGxB,SAACqC,GACxB,IAAMgF,EAAU,CACZ7H,aAAcF,EAASC,cAAcC,cAGzC,MAAO,CACH6H,QAASmC,YAAmBnC,EAAShF,GACrCA,cAIOkH,CAA6CkE,IC1K7C2C,GAjBH,SAACjL,GAET,OACI,yBAAKoC,UAAU,uCAEX,kBAAC,GAAD,MACA,kBAAC,GAAD,MACA,kBAAC,GAAD,MAEA,kBAAC,GAAD,MAEA,kBAAC,GAAD,QCHN8I,I,qBACF,kBAAC,IAAD,CAAU1L,MXAVA,EAAQ2L,YACJC,EACAlS,OAAOmS,8BAAgCnS,OAAOmS,iCWD9C,kBAAC,GAAD,QAIRC,IAASC,OAAOL,GAASM,SAASC,eAAe,SpB4G3C,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMxB,MAAK,SAAAyB,GACjCA,EAAaC,iB,mBqBpInB/S,EAAOC,QAAU,CAAC,WAAa,4BAA4B,cAAgB,+BAA+B,UAAY,2BAA2B,aAAe,8BAA8B,YAAc,6BAA6B,aAAe,8BAA8B,UAAY,2BAA2B,UAAY,6B,mBCAzUD,EAAOC,QAAU,CAAC,KAAO,sBAAsB,eAAiB,gCAAgC,YAAc,6BAA6B,cAAgB,+BAA+B,aAAe,8BAA8B,eAAiB,gCAAgC,QAAU,yBAAyB,MAAQ,uBAAuB,KAAO,sBAAsB,UAAY,2BAA2B,QAAU,2B,mBCAxaD,EAAOC,QAAU,CAAC,QAAU,wBAAwB,QAAU,wBAAwB,WAAa,2BAA2B,cAAgB,8BAA8B,YAAc,4BAA4B,UAAY,4B,mBCAlOD,EAAOC,QAAU,CAAC,KAAO,mBAAmB,SAAW,uBAAuB,UAAY,wBAAwB,UAAY,wBAAwB,QAAU,wB,mBCDhKD,EAAOC,QAAU,IAA0B,yC,mBCC3CD,EAAOC,QAAU,CAAC,KAAO,qBAAqB,KAAO,uB,mBCDrDD,EAAOC,QAAU,IAA0B,mC,mBCA3CD,EAAOC,QAAU,IAA0B,qC,iBCA3CD,EAAOC,QAAU,ssB,mBCAjBD,EAAOC,QAAU,IAA0B,sC,iBCA3CD,EAAOC,QAAU,kkB,mBCCjBD,EAAOC,QAAU,CAAC,QAAU,qBAAqB,WAAa,wBAAwB,cAAgB,2BAA2B,UAAY,uBAAuB,UAAY,uBAAuB,OAAS,sB,mBCDhND,EAAOC,QAAU,IAA0B,4C","file":"static/js/main.d5fa5d74.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/adult-face.e9100273.svg\";","module.exports = __webpack_public_path__ + \"static/media/child-face.4856657c.svg\";","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import {getReduxDispatch, getReduxState} from \"../@createStore\";\r\n\r\nconst ActionType = {\r\n    SET_MAP_CENTER: '[MAP] SET_MAP_CENTER',\r\n    SET_DISTANCE: '[MAP] SET_DISTANCE',\r\n    SET_MASK_TYPE: '[MAP] SET_MASK_TYPE',\r\n    TOGGLE_DRAWER: '[MAP] TOGGLE_DRAWER',\r\n};\r\n\r\nconst ActionCreator = {\r\n    setMapCenter(center) {\r\n        return {\r\n            type: ActionType.SET_MAP_CENTER,\r\n            Data: center\r\n        }\r\n    },\r\n    setDistance(distance) {\r\n        return {\r\n            type: ActionType.SET_DISTANCE,\r\n            Data: distance\r\n        }\r\n    },\r\n    setMaskType(maskType) {\r\n        return {\r\n            type: ActionType.SET_MASK_TYPE,\r\n            Data: maskType\r\n        }\r\n    },\r\n    toggleDrawer() {\r\n        return {\r\n            type: ActionType.TOGGLE_DRAWER\r\n        }\r\n    },\r\n};\r\n\r\nconst Selector = {\r\n    getMapCenter: (state) => state.Map.mapCenter,\r\n    getDistance: (state) => state.Map.distance,\r\n    getMaskType: (state) => state.Map.maskType,\r\n    getDrawerOpen: (state) => state.Map.drawerOpen,\r\n};\r\n\r\nconst initialState = {\r\n    mapCenter: {\r\n        lat: 25.034180,\r\n        lng: 121.554517,\r\n    },\r\n    distance: {\r\n        meter: 500\r\n    },\r\n    maskType: 'adult', // maskType : adult . child\r\n    drawerOpen: false,\r\n};\r\n\r\nconst Reducer = function (state = initialState, action) {\r\n    switch (action.type) {\r\n        case ActionType.SET_MAP_CENTER: {\r\n            return {\r\n                ...state,\r\n                mapCenter: action.Data,\r\n            };\r\n        }\r\n        case ActionType.SET_DISTANCE: {\r\n            return {\r\n                ...state,\r\n                distance: action.Data,\r\n            };\r\n        }\r\n        case ActionType.SET_MASK_TYPE: {\r\n            return {\r\n                ...state,\r\n                maskType: action.Data,\r\n            };\r\n        }\r\n        case ActionType.TOGGLE_DRAWER: {\r\n            return {\r\n                ...state,\r\n                drawerOpen: !state.drawerOpen,\r\n            };\r\n        }\r\n        default: {\r\n            return state;\r\n        }\r\n    }\r\n};\r\n\r\nconst Transformer = {};\r\n\r\nconst AsyncMethods = {};\r\n\r\nconst ReduxMap = {ActionType, ActionCreator, Reducer, Selector, AsyncMethods};\r\n\r\nexport default ReduxMap;\r\n","import Axios from \"axios\";\r\n\r\nclass DomainCommon {\r\n\r\n    static fetchGet({url, params, resolve, reject, timeout = undefined}) {\r\n\r\n        return _fetch({url, resolve, reject, method: 'GET', params, timeout});\r\n    }\r\n\r\n    static fetchPost({url, params, jsonBody, resolve, reject, timeout = undefined}) {\r\n\r\n        return _fetch({url, resolve, reject, method: 'POST', params, data: jsonBody, timeout});\r\n    }\r\n\r\n    static fetchPut({url, params, jsonBody, resolve, reject, timeout = undefined}) {\r\n\r\n        return _fetch({url, resolve, reject, method: 'PUT', params, data: jsonBody, timeout});\r\n    }\r\n\r\n    static fetchPatch({url, params, jsonBody, resolve, reject, timeout = undefined}) {\r\n\r\n        return _fetch({url, resolve, reject, method: 'PATCH', params, data: jsonBody, timeout});\r\n    }\r\n\r\n    static fetchDelete({url, params, jsonBody, resolve, reject, timeout = undefined}) {\r\n\r\n        return _fetch({url, resolve, reject, method: 'DELETE', params, data: jsonBody, timeout});\r\n    }\r\n\r\n}\r\n\r\n// timeout 預設為 3 秒\r\nasync function _fetch({headers = {}, url, params, data, method, timeout = 3 * 1000, baseURL = 'http://localhost:8009', resolve, reject}) {\r\n    try {\r\n\r\n        const isUrlAll = url.startsWith(\"http\");\r\n\r\n        let response = await Axios({\r\n            method,\r\n            url,\r\n            baseURL: isUrlAll ? undefined : baseURL,\r\n            headers,\r\n            params,  // params is the data at query string\r\n            data,   // data is the data at request body\r\n            timeout\r\n        });\r\n\r\n        if (response.status === 204) // 204 No Content , 參考網址 : https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Status/204\r\n            resolve({});\r\n        else {\r\n            try {\r\n                let responseJson = await response.data; // the response body is response.data\r\n                resolve(responseJson);\r\n\r\n            } catch (e) {\r\n                resolve({});\r\n            }\r\n        }\r\n\r\n    } catch (e) {\r\n\r\n        // Axios get error when response.status out of the range of 2xx\r\n        reject(e);\r\n    }\r\n}\r\n\r\nexport default DomainCommon;\r\n","import DomainCommon from './Common';\r\n\r\n\r\nconst MedicalStoreService = {\r\n\r\n    getStores: function () {\r\n        return new Promise((resolve, reject) => {\r\n            return DomainCommon.fetchGet({\r\n                url: 'https://raw.githubusercontent.com/kiang/pharmacies/master/json/points.json',\r\n                resolve, reject\r\n            });\r\n        });\r\n    },\r\n\r\n};\r\n\r\nexport default MedicalStoreService;\r\n","import {getReduxDispatch, getReduxState} from \"../@createStore\";\r\n\r\nimport MaskService from 'fetch/MedicalStore';\r\n\r\n// geolib\r\nimport {getDistance} from 'geolib';\r\n\r\nconst ActionType = {\r\n    SET_MASK_DATA: '[MASK] SET_MASK_DATA',\r\n};\r\n\r\nconst ActionCreator = {\r\n    setMaskData(maskData) {\r\n        return {\r\n            type: ActionType.SET_MASK_DATA,\r\n            Data: maskData\r\n        }\r\n    },\r\n};\r\n\r\nconst Selector = {\r\n    getMaskData: (state) => state.Mask.maskData,\r\n    getNearByMasks: (state) => {\r\n\r\n        const maskData = state.Mask.maskData;\r\n        const meter = state.Map.distance.meter;\r\n        const center = state.Map.mapCenter;\r\n\r\n        return maskData.filter(mask => {\r\n\r\n            const distance = getDistance( // getDistance will return meters\r\n                {latitude: center.lat, longitude: center.lng},\r\n                {latitude: mask.geometry.coordinates[1], longitude: mask.geometry.coordinates[0]}\r\n            );\r\n\r\n            // console.table({lat: center.lat, lng: center.lng, name: mask.properties.name, distance});\r\n\r\n            return distance <= meter;\r\n        });\r\n    },\r\n};\r\n\r\nconst initialState = {\r\n    maskData: [],\r\n};\r\n\r\nconst Reducer = function (state = initialState, action) {\r\n    switch (action.type) {\r\n        case ActionType.SET_MASK_DATA: {\r\n            return {\r\n                ...state,\r\n                maskData: action.Data,\r\n            };\r\n        }\r\n        default: {\r\n            return state;\r\n        }\r\n    }\r\n};\r\n\r\nconst Transformer = {};\r\n\r\nconst AsyncMethods = {\r\n\r\n    async getMaskData() {\r\n\r\n        const dispatch = getReduxDispatch();\r\n\r\n        const maskData = await MaskService.getStores();\r\n        dispatch(ActionCreator.setMaskData(maskData.features));\r\n\r\n        return maskData;\r\n    },\r\n\r\n};\r\n\r\nconst ReduxCustomer = {ActionType, ActionCreator, Reducer, Selector, AsyncMethods};\r\n\r\nexport default ReduxCustomer;\r\n","import {getReduxDispatch, getReduxState} from \"../@createStore\";\r\n\r\nconst ActionType = {\r\n    SET_CUSTOMER_DATA: '[CUSTOMER] SET_CUSTOMER_DATA',\r\n    SET_SINGLE_CUSTOMER: '[CUSTOMER] SET_SINGLE_CUSTOMER',\r\n};\r\n\r\nconst ActionCreator = {\r\n    setCustomerData(customerData) {\r\n        return {\r\n            type: ActionType.SET_CUSTOMER_DATA,\r\n            Data: customerData\r\n        }\r\n    },\r\n    setSingleCustomer(customer) {\r\n        return {\r\n            type: ActionType.SET_SINGLE_CUSTOMER,\r\n            Data: customer\r\n        }\r\n    },\r\n};\r\n\r\nconst Selector = {\r\n    getCustomerData: (state) => state.Customer.customerData,\r\n    getSingleCustomer: (state) => state.Customer.singleCustomer,\r\n};\r\n\r\nconst initialState = {\r\n    customerData: [],\r\n    queryInfo: {},\r\n    singleCustomer: {}\r\n};\r\n\r\nconst Reducer = function (state = initialState, action) {\r\n    switch (action.type) {\r\n        case ActionType.SET_CUSTOMER_DATA: {\r\n            return {\r\n                ...state,\r\n                customerData: action.Data,\r\n            };\r\n        }\r\n        case ActionType.SET_SINGLE_CUSTOMER: {\r\n            return {\r\n                ...state,\r\n                singleCustomer: action.Data,\r\n            };\r\n        }\r\n        default: {\r\n            return state;\r\n        }\r\n    }\r\n};\r\n\r\nconst Transformer = {\r\n\r\n    CustomerFromApi(data) {\r\n\r\n        return (data || []).map(item => ({\r\n            ...item,\r\n            code: item.id,\r\n            show: item.name,\r\n            user: item.userId,\r\n            userObj: {\r\n                id: item.userId,\r\n                username: item.userName,\r\n                code: item.userId,\r\n                show: item.userName,\r\n            }\r\n        }));\r\n    },\r\n\r\n};\r\n\r\nconst AsyncMethods = {\r\n\r\n\r\n\r\n};\r\n\r\nconst ReduxCustomer = {ActionType, ActionCreator, Reducer, Selector, AsyncMethods};\r\n\r\nexport default ReduxCustomer;\r\n","const ActionType = {\r\n    TOGGLE_DRAWER: '[GLOBAL] TOGGLE_DRAWER',\r\n    OPEN_LOADING_BLOCK: '[GLOBAL] OPEN_LOADING_BLOCK',\r\n    CLOSE_LOADING_BLOCK: '[GLOBAL] CLOSE_LOADING_BLOCK',\r\n};\r\n\r\nconst ActionCreator = {\r\n    toggleDrawer() {\r\n        return {\r\n            type: ActionType.TOGGLE_DRAWER\r\n        }\r\n    },\r\n    openLoadingBlock() {\r\n        return {\r\n            type: ActionType.OPEN_LOADING_BLOCK\r\n        }\r\n    },\r\n    closeLoadingBlock() {\r\n        return {\r\n            type: ActionType.CLOSE_LOADING_BLOCK\r\n        }\r\n    },\r\n};\r\n\r\nconst Selector = {\r\n    getDrawerOpen: (state) => state.Screen.Global.drawerOpen,\r\n    getLoadingBlockOpen: (state) => state.Screen.Global.loadingBlockOpen,\r\n};\r\n\r\nconst initialState = {\r\n    drawerOpen: false,\r\n    loadingBlockOpen: false,\r\n};\r\n\r\nconst Reducer = function (state = initialState, action) {\r\n    switch (action.type) {\r\n        case ActionType.TOGGLE_DRAWER: {\r\n            return {\r\n                ...state,\r\n                drawerOpen: !state.drawerOpen,\r\n            };\r\n        }\r\n        case ActionType.OPEN_LOADING_BLOCK : {\r\n            return {\r\n                ...state,\r\n                loadingBlockOpen: true,\r\n            };\r\n        }\r\n        case ActionType.CLOSE_LOADING_BLOCK : {\r\n            return {\r\n                ...state,\r\n                loadingBlockOpen: false,\r\n            };\r\n        }\r\n        default: {\r\n            return state;\r\n        }\r\n    }\r\n};\r\n\r\nconst ReduxGlobal = {ActionType, ActionCreator, Reducer, Selector};\r\n\r\nexport default ReduxGlobal;\r\n","import {combineReducers} from 'redux';\r\nimport ReduxGlobal from './global/actionReducer';\r\n\r\nexport default combineReducers({\r\n    Global: ReduxGlobal.Reducer,\r\n});\r\n","import {combineReducers} from 'redux';\r\nimport ReduxMap from './map/actionReducer';\r\nimport ReduxMask from './mask/actionReducer';\r\nimport ReduxPlace from './place/actionReducer';\r\nimport ReduxScreen from './screen/index';\r\n\r\nexport default combineReducers({\r\n    Map: ReduxMap.Reducer,\r\n    Mask: ReduxMask.Reducer,\r\n    Place: ReduxPlace.Reducer,\r\n    Screen: ReduxScreen,\r\n});\r\n","import {createStore} from 'redux';\r\nimport reducers from './store';\r\n\r\nlet store = undefined;\r\n\r\n// 外部取得 store and dispatch , https://daveceddia.com/access-redux-store-outside-react/\r\n\r\n// grab current state\r\n// const state = store.getState();\r\nexport const getReduxState = () => store.getState();\r\n\r\n// grab current dispatch\r\n// const dispatch = store.dispatch;\r\nexport const getReduxDispatch = () => store.dispatch;\r\n\r\nexport default () => {\r\n\r\n    //如果沒有用 middleware, 改用這個模式\r\n    store = createStore(\r\n        reducers, /* preLoadedState, */\r\n        window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n    );\r\n\r\n    return store;\r\n};\r\n","import React from \"react\";\r\nimport {MenuItem, Select, withStyles} from \"@material-ui/core\";\r\n\r\nconst StyledSelect = withStyles({\r\n    root: {\r\n        padding: '10px'\r\n    }\r\n})(Select);\r\n\r\nclass DropDown extends React.Component {\r\n\r\n    state = {\r\n        value: this.props.value\r\n    };\r\n\r\n    handleChange = (event, child) => {\r\n        const newValue = event.target.value;\r\n        this.setState({value: newValue});\r\n        this.props.onChange && this.props.onChange(newValue);\r\n    };\r\n\r\n    render() {\r\n\r\n        return (\r\n            <StyledSelect variant=\"filled\" fullWidth value={this.state.value} onChange={this.handleChange}>\r\n                {(this.props.data || []).map((item, index) => (\r\n                    <MenuItem key={`item-${index}`} value={item.value}>{item.label}</MenuItem>\r\n                ))}\r\n            </StyledSelect>\r\n        )\r\n    }\r\n}\r\n\r\nexport default DropDown;\r\n","import React from \"react\";\r\n\r\n// css\r\nimport Styles from './Navbar.module.css';\r\nimport DropDown from './DropDown';\r\n\r\n// redux\r\nimport {connect} from 'react-redux';\r\nimport {bindActionCreators} from 'redux';\r\nimport ReduxMap from \"redux/map/actionReducer\";\r\nimport ReduxMask from \"redux/mask/actionReducer\";\r\n\r\n// assets\r\nimport phoneSvg from 'assets/phone-solid.svg';\r\nimport bigPhoneSvg from 'assets/phone.svg';\r\nimport settingSvg from 'assets/setting.svg';\r\n\r\n// material-ui\r\nimport {Hidden, SwipeableDrawer} from \"@material-ui/core\";\r\n\r\nclass MdNavbar extends React.Component {\r\n\r\n    handleClick = (store, setMapCenter) => event => {\r\n\r\n        const lat = store.lat;\r\n        const lng = store.lng;\r\n        setMapCenter({lat, lng, fly: true});\r\n    };\r\n\r\n    getMedicalStores = () => {\r\n\r\n        const medicalStores = this.props.nearByMasks.map(mask => ({\r\n            lat: mask.geometry.coordinates[1],\r\n            lng: mask.geometry.coordinates[0],\r\n            ...mask.properties,\r\n            name: mask.properties.name,\r\n            address: mask.properties.address, // 401 - 郵遞區號 , 需要查詢郵局系統\r\n            time: '08:00~21:30', // 只有 available : 星期一上午看診、星期二上午看診、星期三上午看診、星期四上午看診\r\n            phone: mask.properties.phone,\r\n            leftMask: {\r\n                adult: mask.properties.mask_adult,\r\n                children: mask.properties.mask_child,\r\n            },\r\n        }));\r\n\r\n        return medicalStores;\r\n    };\r\n\r\n    render() {\r\n\r\n        const props = this.props;\r\n        const {setDistance, setMaskType} = this.props.actions;\r\n\r\n        const newMedicalStores = this.getMedicalStores();\r\n\r\n        return (\r\n            <div className={Styles.content}>\r\n\r\n                <div className={Styles.search_root}>\r\n                    <div>距離</div>\r\n                    <DropDown\r\n                        value={2}\r\n                        data={[\r\n                            {value: 1, label: '100m'},\r\n                            {value: 2, label: '500m'},\r\n                            {value: 3, label: '1km'},\r\n                            {value: 4, label: '3km'},\r\n                        ]}\r\n                        onChange={(newValue) => {\r\n\r\n                            if (newValue === 1) setDistance({meter: 100});\r\n                            else if (newValue === 2) setDistance({meter: 500});\r\n                            else if (newValue === 3) setDistance({meter: 1000});\r\n                            else if (newValue === 4) setDistance({meter: 3 * 1000});\r\n                        }}\r\n                    />\r\n                    <div className='mt-12'>口罩類別</div>\r\n                    <DropDown\r\n                        value={1}\r\n                        data={[\r\n                            {value: 1, label: '成人'},\r\n                            {value: 2, label: '兒童'},\r\n                            {value: 3, label: '成人與兒童'},\r\n                        ]}\r\n                        onChange={(newValue) => {\r\n\r\n                            // maskType : adult . child\r\n                            if (newValue === 1) setMaskType('adult');\r\n                            else if (newValue === 2) setMaskType('child');\r\n                            else if (newValue === 3) setMaskType('adult & child');\r\n                        }}\r\n                    />\r\n                </div>\r\n\r\n                <div className='px-8 py-4'>\r\n                    共 {newMedicalStores ? newMedicalStores.length : 0} 家可買口罩\r\n                </div>\r\n\r\n                {\r\n                    newMedicalStores.map((store, index) => (\r\n\r\n                        <div className={Styles.card_root} key={`card-${index}`}\r\n                             onClick={this.handleClick(store, props.actions.setMapCenter)}>\r\n                            <div className='flex'>\r\n                                <div className='flex-1' style={{fontWeight: 900, color: '#848484'}}>{store.name}</div>\r\n                                <a href={`tel:+886-${store.phone}`} onClick={(e) => {\r\n                                    e.stopPropagation();  //  <------ Here is the magic\r\n                                }}>\r\n                                    <img src={bigPhoneSvg}\r\n                                         style={{paddingRight: '3px', paddingLeft: '3px'}}\r\n                                         height='20px'\r\n                                         alt=\"電話\"/>\r\n                                </a>\r\n                            </div>\r\n                            <div style={{paddingTop: '2px'}}>\r\n                                <div style={{fontSize: '10px', color: '#848484'}}>{store.address}</div>\r\n                            </div>\r\n                            <div className='flex items-center' style={{paddingTop: '2px', paddingBottom: '2px',}}>\r\n                                <img src={phoneSvg}\r\n                                     style={{paddingRight: '3px', paddingLeft: '3px'}}\r\n                                     height='10px'\r\n                                     alt=\"電話圖示\"/>\r\n                                <div style={{verticalAlign: 'middle', fontSize: '10px', color: '#a3a3a3'}}>\r\n                                    {store.phone}\r\n                                </div>\r\n                            </div>\r\n                            <div className='flex'>\r\n                                <div className={Styles.adult_mask}>\r\n                                    <div className='flex flex-1'>成人口罩</div>\r\n                                    <div>{store.leftMask.adult}個</div>\r\n                                </div>\r\n                                <div className={Styles.children_mask}>\r\n                                    <div className='flex flex-1'>兒童口罩</div>\r\n                                    <div>{store.leftMask.children}個</div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    ))\r\n                }\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nclass LeftDrawer extends React.Component {\r\n\r\n    toggleDrawer = () => this.props.actions.toggleDrawer();\r\n\r\n    render() {\r\n\r\n        return (\r\n            <SwipeableDrawer\r\n                anchor=\"left\"\r\n                open={this.props.drawerOpen}\r\n                onOpen={this.toggleDrawer}\r\n                onClose={this.toggleDrawer}\r\n            >\r\n                <MdNavbar {...this.props}/>\r\n            </SwipeableDrawer>\r\n        )\r\n    }\r\n}\r\n\r\nconst Navbar = (props) => (\r\n    <>\r\n        <Hidden xsDown>\r\n            <MdNavbar {...props}/>\r\n        </Hidden>\r\n        <Hidden smUp>\r\n            <LeftDrawer {...props}/>\r\n            <div className={Styles.setting} onClick={() => setTimeout(props.actions.toggleDrawer, 100)}>\r\n                <img src={settingSvg} height='20px' alt=\"設定\"/>\r\n            </div>\r\n        </Hidden>\r\n    </>\r\n);\r\n\r\n\r\nconst mapStateToProps = state => ({\r\n    center: ReduxMap.Selector.getMapCenter(state),\r\n    drawerOpen: ReduxMap.Selector.getDrawerOpen(state),\r\n    maskData: ReduxMask.Selector.getMaskData(state),\r\n    nearByMasks: ReduxMask.Selector.getNearByMasks(state),\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    const actions = {\r\n        setMapCenter: ReduxMap.ActionCreator.setMapCenter,\r\n        setDistance: ReduxMap.ActionCreator.setDistance,\r\n        setMaskType: ReduxMap.ActionCreator.setMaskType,\r\n        toggleDrawer: ReduxMap.ActionCreator.toggleDrawer,\r\n    };\r\n\r\n    return {\r\n        actions: bindActionCreators(actions, dispatch),\r\n        dispatch,\r\n    }\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Navbar);\r\n","import React from \"react\";\r\nimport Styles from './Footer.module.css';\r\n\r\nclass BigContent extends React.Component {\r\n\r\n    render() {\r\n\r\n        return (\r\n            <div className='sm:flex xs:flex-col mb-4'>\r\n\r\n                <div>\r\n                    | 口罩地圖 ver 1.0 by\r\n                    <a className={Styles.link} href='https://github.com/andrew781026/findMask' target='_blank'>\r\n                        Andrew\r\n                    </a>\r\n                </div>\r\n                <div>\r\n                    <span className='sm:pl-12'>| 資料來源 : 衛福部</span>\r\n                </div>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst Footer = () => (\r\n    <div className={`flex px-8 h-28 bg-black z-20 fixed pin-b pin-r ${Styles.root}`}>\r\n        <BigContent/>\r\n    </div>\r\n);\r\n\r\nexport default Footer;\r\n","import moment from 'moment';\r\n\r\nclass DateUtil {\r\n\r\n    static format(date, format = 'YYYY/MM/DD') {\r\n\r\n        if (date) return moment(date).format(format);\r\n        else return date;\r\n    }\r\n\r\n    static getWeekDayStr(date) {\r\n\r\n        const weekdayMap = {\r\n            0: '日',\r\n            1: '一',\r\n            2: '二',\r\n            3: '三',\r\n            4: '四',\r\n            5: '五',\r\n            6: '六',\r\n        };\r\n\r\n        return weekdayMap[moment(date).weekday()];\r\n    }\r\n\r\n    static yesterday() {\r\n\r\n        return moment().add(-1, 'd').toDate();\r\n    }\r\n\r\n    static nextWeek() {\r\n\r\n        return moment().add(7, 'd').toDate();\r\n    }\r\n\r\n    static startOf(date, unit = 'd') {\r\n\r\n        return moment(date).startOf(unit).toDate();\r\n    }\r\n\r\n    static endOf(date, unit = 'd') {\r\n\r\n        return moment(date).endOf(unit).toDate();\r\n    }\r\n\r\n\r\n}\r\n\r\nexport default DateUtil;\r\n","import React from \"react\";\r\n\r\n// material-ui\r\nimport {Hidden} from '@material-ui/core';\r\n\r\n// css\r\nimport Styles from './Toolbar.module.css';\r\n\r\n// assets\r\nimport linkPng from 'assets/link.png';\r\nimport bulletinJpg from 'assets/bulletin.jpg';\r\nimport calenderPng from 'assets/calender.png';\r\n\r\n// moment\r\nimport moment from 'moment';\r\n\r\n// dateUtil\r\nimport dateUtil from '../../../utils/dateUtil';\r\n\r\nconst getText = (number) => {\r\n\r\n    const weekDay = moment().weekday();\r\n\r\n    if (!number) return '請設定您的身分證尾碼';\r\n    else if (weekDay === 0) return `您今日可以購買口罩歐！(尾數${number})`;\r\n    else {\r\n\r\n        if (number % 2 === 1) {\r\n\r\n            // 1 . 3 . 5 => 奇\r\n            if (weekDay % 2 === 1) return `您今日可以購買口罩歐！(尾數${number})`;\r\n            else return `您明日才能購買口罩歐！(尾數${number})`;\r\n\r\n        } else {\r\n\r\n            // 2 . 4 . 6 => 偶\r\n            if (weekDay % 2 === 0) return `您今日可以購買口罩歐！(尾數${number})`;\r\n            else return `您明日才能購買口罩歐！(尾數${number})`;\r\n\r\n        }\r\n    }\r\n};\r\n\r\nconst getDateStr = date =>`${dateUtil.format(date,'MM/DD')}(${dateUtil.getWeekDayStr(date)})`;\r\n\r\n// type : edit . buy . wait\r\nconst Toolbar = (props) => (\r\n    <div className={`flex h-80 shadow-b z-20 relative ${Styles.root}`}>\r\n        <div className='flex-col p-12 absolute pin-l font-900 text-white'>\r\n            <div className='flex items-start'>\r\n                <img className='pr-4' src={calenderPng} alt='日曆圖示'/>\r\n                2020/\r\n            </div>\r\n            <div className='text-xl my-4'>{getDateStr(new Date())}</div>\r\n            <div className='font-500' style={{fontSize: '12px'}}>如今日購買，下次最快可購買日為{getDateStr(dateUtil.nextWeek())}</div>\r\n        </div>\r\n        <Hidden xsDown>\r\n            <div className={Styles.right_content}>\r\n                <div className='flex-col flex-1 text-white mt-4 mx-8'>\r\n                    <p className={Styles.right_p}>民眾持本人 「健保卡」 ，每人現購 2 片，7 天內不可重複購買 </p>\r\n                    <p className={Styles.right_p}>可委託親友代為購買，一人限代持一張健保卡 </p>\r\n                    <p className={Styles.right_p}>兒童口罩僅限 12 歲以下兒童健保卡購買</p>\r\n                </div>\r\n                <div className={Styles.link}>\r\n                    <img src={linkPng} alt='健保署公告連結'/>\r\n                    <a href={bulletinJpg} target='_blank' className={Styles.link_text}><span>衛服部公告連結</span></a>\r\n                </div>\r\n            </div>\r\n        </Hidden>\r\n    </div>\r\n);\r\n\r\nexport default Toolbar;\r\n","import React from \"react\";\r\nimport Styles from './Hint.module.css';\r\n\r\nconst Hint = (props) => (\r\n    <div className={Styles.root}>\r\n        {/*<div className={Styles.all_type}>顯示全部</div>*/}\r\n        <div className={Styles.many_mask}>31 ~</div>\r\n        <div className={Styles.less_mask}>1 ~ 30</div>\r\n        <div className={Styles.no_mask}>無庫存</div>\r\n    </div>\r\n);\r\n\r\nexport default Hint;\r\n","import React from \"react\";\r\n\r\n// styles\r\nimport Styles from \"./Tooltip.module.css\";\r\n\r\n// assets\r\nimport clockSvg from \"assets/clock-regular.svg\";\r\nimport phoneSvg from \"assets/phone-solid.svg\";\r\nimport adultFaceSvg from \"assets/adult-face.svg\";\r\nimport childFaceSvg from \"assets/child-face.svg\";\r\n\r\n\r\nconst Tooltip = ({medicalStore}) => (\r\n    <div className={Styles.card_root}>\r\n\r\n        <div className={Styles.text_root}>\r\n\r\n            <div className='pb-4'>\r\n                <span className={Styles.text_name}>{medicalStore.name}</span>\r\n            </div>\r\n            <div className='pb-4'>\r\n                <span className={Styles.text_address}>\r\n                    {medicalStore.address}\r\n                </span>\r\n            </div>\r\n            <div className='flex'>\r\n                <div className='flex-1 flex items-center'>\r\n                    <img className='px-4' height='12px' src={clockSvg} alt=\"時鐘 :　\"/>\r\n                    <span className={Styles.time_letter}>{medicalStore.time}</span>\r\n                </div>\r\n                <div className='flex-1 flex items-center'>\r\n                    <img className='px-4' src={phoneSvg} height='12px' alt=\"電話 : \"/>\r\n                    <span className={Styles.phone_letter}>{medicalStore.phone}</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div className='flex'>\r\n            <div className={Styles.adult_mask}>\r\n                <div>成人口罩數量</div>\r\n                <div className='w-full flex items-end pt-4'>\r\n                    <div className='flex flex-1 justify-center items-center'>\r\n                        <img src={adultFaceSvg} height='37px' alt=\"成人頭像\"/>\r\n                    </div>\r\n                    <div>\r\n                        <span className='text-16 pr-4'>{medicalStore.leftMask.adult}</span> 個\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className={Styles.children_mask}>\r\n                <div>兒童口罩數量</div>\r\n                <div className='w-full flex items-end pt-4'>\r\n                    <div className='flex flex-1 justify-center items-center'>\r\n                        <img src={childFaceSvg} height='40px' alt=\"兒童頭像\"/>\r\n                    </div>\r\n                    <div>\r\n                        <span className='text-16 pr-4'>{medicalStore.leftMask.children}</span> 個\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    </div>\r\n);\r\n\r\nexport default Tooltip;\r\n","// 參考資料 : https://no23reason.github.io/react-geolocated/readme\r\n\r\nimport React from \"react\";\r\nimport {geolocated} from \"react-geolocated\";\r\n\r\n// redux\r\nimport {connect} from 'react-redux';\r\nimport {bindActionCreators} from 'redux';\r\nimport ReduxMap from \"redux/map/actionReducer\";\r\n\r\nconst geolocatedConfig = {\r\n    positionOptions: {\r\n        enableHighAccuracy: false,\r\n    },\r\n    userDecisionTimeout: 5000,\r\n};\r\n\r\nclass GeoLocated extends React.Component {\r\n\r\n    componentDidUpdate(prevProps) {\r\n\r\n        if (prevProps.coords === this.props.coords) {\r\n\r\n            return null;\r\n\r\n        } else if (!this.props.isGeolocationAvailable) { //  Your browser does not support Geolocation\r\n\r\n        } else if (!this.props.isGeolocationEnabled) { //  Geolocation is not enabled\r\n\r\n        } else if (this.props.coords) { //  Geolocation has been got\r\n\r\n            const latitude = this.props.coords.latitude;\r\n            const longitude = this.props.coords.longitude;\r\n            const altitude = this.props.coords.altitude;\r\n            const heading = this.props.coords.heading;\r\n            const speed = this.props.coords.speed;\r\n\r\n            this.props.actions.setMapCenter({lat: latitude, lng: longitude, fly: true});\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        return null;\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    const actions = {\r\n        setMapCenter: ReduxMap.ActionCreator.setMapCenter,\r\n    };\r\n\r\n    return {\r\n        actions: bindActionCreators(actions, dispatch),\r\n        dispatch,\r\n    }\r\n};\r\n\r\nexport default connect(null, mapDispatchToProps)(geolocated(geolocatedConfig)(GeoLocated));\r\n","// react\r\nimport React from 'react';\r\nimport ReactDOMServer from 'react-dom/server';\r\nimport Styles from './Map.module.css';\r\n\r\n// leaflet\r\nimport \"leaflet/dist/leaflet.css\";\r\nimport L from \"leaflet\";\r\n\r\n// components\r\nimport Tooltip from \"./components/Tooltip\";\r\nimport GeoLocated from \"./GeoLocation\";\r\n\r\n// redux\r\nimport {connect} from \"react-redux\";\r\nimport {bindActionCreators} from 'redux';\r\nimport ReduxMap from \"redux/map/actionReducer\";\r\nimport ReduxMask from \"redux/mask/actionReducer\";\r\n\r\n// 參考資料 : https://leafletjs.com/examples/quick-start/ & https://juejin.im/post/5cc192976fb9a032092e8e0a\r\nclass SimpleExample extends React.Component {\r\n\r\n    map = null;\r\n    layerGroup = null;\r\n    icons = {};\r\n\r\n    state = {\r\n        lat: this.props.center.lat, // 25.034180,\r\n        lng: this.props.center.lng, //121.554517,\r\n        zoom: 17\r\n    };\r\n\r\n    componentDidMount() {\r\n\r\n        ReduxMask.AsyncMethods.getMaskData().then().catch(e => console.error(e));\r\n\r\n        const map = L.map('mapid').setView([this.state.lat, this.state.lng], this.state.zoom);\r\n\r\n        const OSMUrl = \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\";\r\n\r\n        L.tileLayer(OSMUrl, {\r\n            id: 'mapbox/streets-v11',\r\n            tileSize: 512,\r\n            zoomOffset: -1,\r\n        }).addTo(map);\r\n\r\n        map.on('moveend', (e) => {\r\n\r\n            const latlng = map.getCenter();\r\n            this.setState({lat: latlng.lat, lng: latlng.lng});\r\n            this.props.actions.setMapCenter(latlng);\r\n        });\r\n\r\n        // 計算 5 km 內的藥局 , 並顯示之\r\n\r\n        this.map = map;\r\n        this.layerGroup = L.layerGroup().addTo(map); // add layerGroup for markers with clearLayers\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n\r\n        if (this.map) {\r\n            if (this.props.center.fly) this.map.flyTo(this.props.center, 18);\r\n            this.renderMarker(this.map);\r\n        }\r\n    }\r\n\r\n    getIcon = (color = 'green') => {\r\n\r\n        const icon = this.icons[color];\r\n\r\n        if (icon) return icon;\r\n        else {\r\n\r\n            // 使用 leaflet-color-markers ( https://github.com/pointhi/leaflet-color-markers ) 當作 marker\r\n            const newIcon = new L.Icon({\r\n                iconUrl: `https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-${color}.png`,\r\n                shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',\r\n                iconSize: [25, 41],\r\n                iconAnchor: [12, 41],\r\n                popupAnchor: [1, -34],\r\n                shadowSize: [41, 41]\r\n            });\r\n\r\n            this.icons[color] = newIcon;\r\n            return newIcon;\r\n        }\r\n\r\n    };\r\n\r\n    getMedicalStores = () => {\r\n\r\n        const medicalStores = this.props.nearByMasks.map(mask => ({\r\n            lat: mask.geometry.coordinates[1],\r\n            lng: mask.geometry.coordinates[0],\r\n            ...mask.properties,\r\n            name: mask.properties.name,\r\n            address: mask.properties.address, // 401 - 郵遞區號 , 需要查詢郵局系統\r\n            time: '08:00~21:30', // 只有 available : 星期一上午看診、星期二上午看診、星期三上午看診、星期四上午看診\r\n            phone: mask.properties.phone,\r\n            leftMask: {\r\n                adult: mask.properties.mask_adult,\r\n                children: mask.properties.mask_child,\r\n            },\r\n        }));\r\n\r\n        return medicalStores;\r\n    };\r\n\r\n    getMarker = (store) => {\r\n\r\n        // 使用 leaflet-color-markers ( https://github.com/pointhi/leaflet-color-markers ) 當作 marker\r\n        const greenIcon = this.getIcon('green');\r\n        const goldIcon = this.getIcon('gold');\r\n        const redIcon = this.getIcon('red');\r\n\r\n        // we can use differ color present the left amount of mask ( user can pick finding mask_adult or mask_child )\r\n\r\n        // 0 => red\r\n        // 1 ~ 30 => gold\r\n        // 31 ~ => green\r\n\r\n        const maskType = this.props.maskType;\r\n        const mask_adult = store.leftMask.adult;\r\n        const mask_child = store.leftMask.children;\r\n\r\n        const getMaskAmount = (maskType) => {\r\n\r\n            if (maskType === 'child') return mask_child;\r\n            else if (maskType === 'adult') return mask_adult;\r\n            else return mask_child + mask_adult;\r\n        };\r\n\r\n\r\n        const getIcon = (maskAmount) => {\r\n\r\n            if (maskAmount > 30) return greenIcon;\r\n            else if (maskAmount <= 30 && maskAmount > 0) return goldIcon;\r\n            else return redIcon;\r\n        };\r\n\r\n        return L.marker([store.lat, store.lng], {icon: getIcon(getMaskAmount(maskType))});\r\n    };\r\n\r\n    renderMarker = () => {\r\n\r\n        const medicalStores = this.getMedicalStores();\r\n\r\n        // remove all the markers in one go\r\n        this.layerGroup.clearLayers();\r\n\r\n        medicalStores.forEach(store => {\r\n            const marker = this.getMarker(store).addTo(this.layerGroup);\r\n            const content = ReactDOMServer.renderToString(<Tooltip medicalStore={store}/>);  // 將 react-element 轉換成 html-string\r\n\r\n            marker.bindPopup(content, {className: 'popupCustom'});\r\n\r\n            if (store.lat === this.props.center.lat && store.lng === this.props.center.lng && this.props.center.fly) {\r\n\r\n                // setTimeout(() => marker.bindPopup(content, {className: 'popupCustom'}).openPopup(),1800);\r\n            }\r\n        });\r\n\r\n    };\r\n\r\n    render() {\r\n\r\n        // if props.center change fly to center ? => 外部點擊需要到達目標位置才飛\r\n\r\n        return (\r\n            <>\r\n                <GeoLocated/>\r\n                <div id='mapid' className={Styles.content}/>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    center: ReduxMap.Selector.getMapCenter(state),\r\n    maskType: ReduxMap.Selector.getMaskType(state),\r\n    maskData: ReduxMask.Selector.getMaskData(state),\r\n    nearByMasks: ReduxMask.Selector.getNearByMasks(state),\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    const actions = {\r\n        setMapCenter: ReduxMap.ActionCreator.setMapCenter,\r\n    };\r\n\r\n    return {\r\n        actions: bindActionCreators(actions, dispatch),\r\n        dispatch,\r\n    }\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SimpleExample);\r\n\r\n","import React from 'react';\r\n\r\n// partial\r\nimport Navbar from './partial/navbar/Navbar';\r\nimport Footer from \"./partial/footer/Footer\";\r\nimport Toolbar from \"./partial/toolbar/Toolbar\";\r\nimport Hint from \"./partial/hint/Hint\";\r\nimport GoogleMap from \"./partial/map/Map\";\r\n\r\nconst App = (props) => {\r\n\r\n    return (\r\n        <div className='flex-col relative h-screen w-screen'>\r\n\r\n            <Toolbar/>\r\n            <Footer/>\r\n            <Hint/>\r\n\r\n            <Navbar/>\r\n\r\n            <GoogleMap/>\r\n\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default App;\r\n","// // react\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\n// redux\r\nimport {Provider} from 'react-redux';\r\nimport createStore from './redux/@createStore';\r\n\r\n// layout\r\nimport App from './layout/App';\r\n\r\n// global import css\r\nimport './styles/index.css';\r\nimport './styles/map.css';\r\nimport './styles/tailwind.css';\r\n\r\nconst element = (\r\n    <Provider store={createStore()}>\r\n        <App/>\r\n    </Provider>\r\n);\r\n\r\nReactDOM.render(element, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"adult_mask\":\"Tooltip_adult_mask__3__B1\",\"children_mask\":\"Tooltip_children_mask__3tqRH\",\"text_name\":\"Tooltip_text_name__Woje3\",\"text_address\":\"Tooltip_text_address__15glN\",\"time_letter\":\"Tooltip_time_letter__3gx6D\",\"phone_letter\":\"Tooltip_phone_letter__1I7rS\",\"card_root\":\"Tooltip_card_root__14UF3\",\"text_root\":\"Tooltip_text_root__Z6Rn_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Toolbar_root__1zS0b\",\"center_content\":\"Toolbar_center_content__1Z9ZB\",\"center_span\":\"Toolbar_center_span__Tmb10\",\"right_content\":\"Toolbar_right_content__hqXVo\",\"tooltip_span\":\"Toolbar_tooltip_span__3y1y1\",\"tooltip_button\":\"Toolbar_tooltip_button__-1ysB\",\"tooltip\":\"Toolbar_tooltip__26eL1\",\"input\":\"Toolbar_input__2Qdoz\",\"link\":\"Toolbar_link__nGVsi\",\"link_text\":\"Toolbar_link_text__nguVe\",\"right_p\":\"Toolbar_right_p__28X5d\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Navbar_content__23tnZ\",\"setting\":\"Navbar_setting__1ZBRj\",\"adult_mask\":\"Navbar_adult_mask__1IcB6\",\"children_mask\":\"Navbar_children_mask__1WUQT\",\"search_root\":\"Navbar_search_root__3wQju\",\"card_root\":\"Navbar_card_root__3Cpq3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Hint_root__1iNzE\",\"all_type\":\"Hint_all_type__2FPlQ\",\"many_mask\":\"Hint_many_mask__HNzHy\",\"less_mask\":\"Hint_less_mask__26fPB\",\"no_mask\":\"Hint_no_mask__18wmg\"};","module.exports = __webpack_public_path__ + \"static/media/phone-solid.584f89de.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Footer_root__3es0p\",\"link\":\"Footer_link__flc3M\"};","module.exports = __webpack_public_path__ + \"static/media/phone.578398ce.svg\";","module.exports = __webpack_public_path__ + \"static/media/setting.6f1fd6d2.svg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAUCAIAAAAcIrrpAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAAGVSURBVDhPrZTZTsJAFIa9oqXL8GKtoGFRIKKiRcQHYHGPCRoUE+J2gYkmBmIRXOLyev7TskyHtoIh+S6G08OXmX9OOxcqajNkSl1FlxtJ6T4jXyXJ7jz/dCodOQgL3VzgZ8dGeM+rJ4tcz8S6sm67hI4hN5bFVpauX7dCJUfbxLqKju2I7Q0s6M+SJrwYMKrVKNs2TXbOjYhP69AptThb/EtX0pR6QmpmpNs02Q8P60o1GvguALYI/HTIXjTpiWyEjzzZo7dJXZ/bqEh3abYfeOrIYQRJU0s3h+yDj2tCL4fhUE4HrmaG+wtw1w1dYjuL7NXjBTs4lboKlmuF7R/ioiNHEeHNcrWypKyrZzG6No3gwyrNy9sFxnSD+YILa1QQ9mh6vwrydcrR74TXKRcJ6uoYtqtPWVfO4/LlEi5nVHSD10k3KXoc5soQHM2O6fFhbHd1a3emQazpV2oxHBDvA9vjg1t2PevdxCtlbtK83ObLizGdNSXic1+EEcO3iGvwwUVnAym+PxgUru6Pp+5/zFRX1H4BiyrG5MSrwYQAAAAASUVORK5CYII=\"","module.exports = __webpack_public_path__ + \"static/media/bulletin.02e4973d.jpg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAYCAIAAACA18GRAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAAExSURBVEhLY2DbnkMtNOTMSrm02OBwK5ogEHHtyMu4vEz9QAOaOBDhNOvLnx8FV1ejCQKR4K6i////R52fhyYOROhmWR7tyr6yQnR3KcQsn9NTc6+sREbie8ogZoWemx15fi7Pzny4XhSzos/P+/fvH1Cp9sGmt7++5F5duf75BSAXGSjsq/7x91fE+TlH390Fcne9vgbXjmLWxhdQne13dhRdWw1Elz49gYjAQdWNDRCpe1/fQESALoVoRzFr56urEGmSgPy+Koj2IWTW8qenO+7sJAZ9+P2NgFluJychC+JBD769HTVrmJu18cVFoNya5+f67+0lBn38/R2oHnt+jL2w4N9/UDlBPNjz+jpcO4pZQGRzrCfv6sqCq6uIQTEX5vPuLIDrRTeLEkQ9s7bnAADezOZBisoYGwAAAABJRU5ErkJggg==\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Map_content__3G1Qr\",\"adult_mask\":\"Map_adult_mask__3iVo5\",\"children_mask\":\"Map_children_mask__2zy1i\",\"card_root\":\"Map_card_root__1GwH5\",\"text_root\":\"Map_text_root__2ohUx\",\"marker\":\"Map_marker__1_Oj1\"};","module.exports = __webpack_public_path__ + \"static/media/clock-regular.54749a5a.svg\";"],"sourceRoot":""}